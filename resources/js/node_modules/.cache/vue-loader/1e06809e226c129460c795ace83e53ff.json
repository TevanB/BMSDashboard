{"remainingRequest":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/ChatMessages.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/ChatMessages.vue","mtime":1613347835579},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydtZXNzYWdlcycsICdvcmRlcl9pZCddLAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgc2VuZGVyOnt9LAogICAgICB1c2VyczpbXSwKICAgIH0KICB9LAogIHdhdGNoOnsKICAgIG1lc3NhZ2VzOiBmdW5jdGlvbigpewogICAgICB0aGlzLiRlbWl0KCdtZXNzYWdlc2VudCcpOwoKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKCiAgfSwKCiAgbW91bnRlZCgpewoKCiAgICAvL3RoaXMuc2Nyb2xsVG9FbmQoKTsKICB9LAogIG1ldGhvZHM6ewogICAgZmV0Y2hNZXNzYWdlcygpIHsKICAgICAgICBheGlvcy5nZXQoJy9tZXNzYWdlcycpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLm1lc3NhZ2VzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzY3JvbGxUb0VuZCgpIHsKICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoIiNzY3JvbGxlciIpOwogICAgICAvL2NvbnNvbGUubG9nKGNvbnRhaW5lcik7CiAgICAgIC8vY29udGFpbmVyLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7CiAgICB9LAoKICAgIGdldFVzZXJuYW1lKG1lc3NhZ2UpewoKCiAgICAgIC8vdXNlZCBtb2RlbCByZWxhdGlvbnNoaXAgdG8gZ2V0IHVzZXJuYW1lCgogICAgICBpZihOdW1iZXIuaXNJbnRlZ2VyKG1lc3NhZ2UuaWQpKXsKICAgICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vbWVzc2FnZXMvJyttZXNzYWdlLmlkLCBtZXNzYWdlKS50aGVuKChkYXRhKT0+ewogICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhLmRhdGEubmFtZSk7CiAgICAgICAgICB0aGlzLnNlbmRlciA9IGRhdGEuZGF0YS5uYW1lOwoKICAgICAgICB9KQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnNlbmRlcjsKICAgIH0sCgogICAgdHJpbU9yZGVyTWVzc2FnZXMobWVzc2FnZUFycil7CiAgICAgIC8vY29uc29sZS5sb2codGhpcy5vcmRlcl9pZC5vcmRlcl9pZCk7CiAgICAgIGxldCB0ZW1wQXJyID0gW107CiAgICAgIGZvcihsZXQgaSA9MDsgaTxtZXNzYWdlQXJyLmxlbmd0aDsgaSsrKXsKICAgICAgICBpZihtZXNzYWdlQXJyW2ldLm9yZGVyX2lkID09IHRoaXMub3JkZXJfaWQub3JkZXJfaWQpewogICAgICAgICAgdGVtcEFyci5wdXNoKG1lc3NhZ2VBcnJbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRlbXBBcnI7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["ChatMessages.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ChatMessages.vue","sourceRoot":"components","sourcesContent":["<template>\n    <ul class=\"chat\">\n        <li class=\"left clearfix\" v-for=\"message in trimOrderMessages(messages)\" :key=\"message.id\" >\n            <div class=\"chat-body clearfix\">\n                <div class=\"header\">\n                    <strong class=\"primary-font\">\n                        {{ message.user_name }}\n                    </strong>| {{  message.created_at | messageDate}}\n\n                </div>\n                <p>\n                    {{ message.message }}\n                </p>\n            </div>\n        </li>\n    </ul>\n</template>\n\n<script>\n  export default {\n    props: ['messages', 'order_id'],\n    data(){\n      return{\n        sender:{},\n        users:[],\n      }\n    },\n    watch:{\n      messages: function(){\n        this.$emit('messagesent');\n\n      }\n    },\n    created(){\n\n    },\n\n    mounted(){\n\n\n      //this.scrollToEnd();\n    },\n    methods:{\n      fetchMessages() {\n          axios.get('/messages').then(response => {\n              this.messages = response.data;\n          });\n      },\n      scrollToEnd() {\n        var container = this.$el.querySelector(\"#scroller\");\n        //console.log(container);\n        //container.scrollTop = container.scrollHeight;\n      },\n\n      getUsername(message){\n\n\n        //used model relationship to get username\n\n        if(Number.isInteger(message.id)){\n          axios.get('https://bms-backend-setup-payou-rs8qky.herokuapp.com/messages/'+message.id, message).then((data)=>{\n            //console.log(data.data.name);\n            this.sender = data.data.name;\n\n          })\n        }\n        return this.sender;\n      },\n\n      trimOrderMessages(messageArr){\n        //console.log(this.order_id.order_id);\n        let tempArr = [];\n        for(let i =0; i<messageArr.length; i++){\n          if(messageArr[i].order_id == this.order_id.order_id){\n            tempArr.push(messageArr[i]);\n          }\n        }\n\n        return tempArr;\n      }\n    }\n  };\n</script>\n<style module>\n  .chat {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  .chat li {\n    margin-bottom: 10px;\n    padding-bottom: 5px;\n    border-bottom: 1px dotted #B3A9A9;\n  }\n\n  .chat li .chat-body p {\n    margin: 0;\n    color: #777777;\n  }\n\n  .panel-body {\n    overflow-y: scroll;\n    height: 350px;\n  }\n\n  ::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    background-color: #F5F5F5;\n  }\n\n  ::-webkit-scrollbar {\n    width: 12px;\n    background-color: #F5F5F5;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);\n    background-color: #555;\n  }\n</style>\n"]}]}