{"remainingRequest":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/Users.vue","mtime":1613347835579},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKCiAgaW1wb3J0IEZvcm0gZnJvbSAndmZvcm0nOwogIGltcG9ydCBVc2VyRWRpdDEgZnJvbSAnLi9Vc2VyRWRpdDEnOwogIGltcG9ydCBVc2VyRWRpdDIgZnJvbSAnLi9Vc2VyRWRpdDInOwogIGltcG9ydCBVc2VyTW9kYWwgZnJvbSAnLi9Vc2VyTW9kYWwnOwogIGV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOnsKICAgIFVzZXJFZGl0MSwKICAgIFVzZXJFZGl0MiwKICAgIFVzZXJNb2RhbCwKICB9LAogIGRhdGEoKXsKICAgcmV0dXJuewogICAgIHVybDogImh0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL3VzZXJzIiwKICAgICBkYXRhOiB7fSwKICAgICB0YWJsZVByb3BzOiB7CiAgICAgICAgIHNlYXJjaDogJycsCiAgICAgICAgIGxlbmd0aDogMTAsCiAgICAgICAgIGNvbHVtbjogJ2lkJywKICAgICAgICAgZGlyOiAnYXNjJwogICAgIH0sCiAgICAgY29sdW1uczogWwogICAgICAgICB7CiAgICAgICAgICAgICBsYWJlbDogJ0lEJywKICAgICAgICAgICAgIG5hbWU6ICdpZCcsCiAgICAgICAgICAgICBvcmRlcmFibGU6IHRydWUsCiAgICAgICAgIH0sCiAgICAgICAgIHsKICAgICAgICAgICAgIGxhYmVsOiAnTmFtZScsCiAgICAgICAgICAgICBuYW1lOiAnbmFtZScsCiAgICAgICAgICAgICBvcmRlcmFibGU6IHRydWUsCiAgICAgICAgIH0sCiAgICAgICAgIHsKICAgICAgICAgICAgIGxhYmVsOiAnVHlwZScsCiAgICAgICAgICAgICBuYW1lOiAndHlwZScsCiAgICAgICAgICAgICBvcmRlcmFibGU6IHRydWUsCiAgICAgICAgIH0sCiAgICAgICAgIHsKICAgICAgICAgICAgIGxhYmVsOiAnRW1haWwnLAogICAgICAgICAgICAgbmFtZTogJ2VtYWlsJywKICAgICAgICAgICAgIG9yZGVyYWJsZTogdHJ1ZSwKICAgICAgICAgfSwKICAgICAgICAgewogICAgICAgICAgICAgbGFiZWw6ICdSZWdpc3RlcmVkIEF0JywKICAgICAgICAgICAgIG5hbWU6ICdjcmVhdGVkX2F0JywKICAgICAgICAgICAgIG9yZGVyYWJsZTogdHJ1ZSwKICAgICAgICAgfSwKICAgICAgICAgewogICAgICAgICAgICAgbGFiZWw6ICdFZGl0JywKICAgICAgICAgICAgIGNvbXBvbmVudDogVXNlckVkaXQxLAogICAgICAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgIGV2ZW50OiAnY2xpY2snLAogICAgICAgICAgICAgaGFuZGxlcjogdGhpcy51cGRhdGVUYWJsZVJvdywKICAgICAgICAgfSwKICAgICAgICAgewogICAgICAgICAgICAgbGFiZWw6ICdEZWxldGUnLAogICAgICAgICAgICAgY29tcG9uZW50OiBVc2VyRWRpdDIsCiAgICAgICAgICAgICBvcmRlcmFibGU6IGZhbHNlLAogICAgICAgICAgICAgZXZlbnQ6ICdjbGljaycsCiAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmRlbGV0ZVRhYmxlUm93LAogICAgICAgICB9LAogICAgIF0sCiAgICAgc2VsZWN0ZWRSb3c6e30sCiAgICAgZWRpdG1vZGU6IHRydWUsCiAgICAgdXNlcnM6IHt9LAogICAgIGZvcm06IG5ldyBGb3JtKHsKICAgICAgIGlkOiAnJywKICAgICAgIG5hbWU6ICcnLAogICAgICAgZW1haWw6ICcnLAogICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgdHlwZTogJycsCiAgICAgICBiaW86ICcnLAogICAgICAgcGhvdG86ICcnLAogICAgICAgcGF5b3V0OiAnMC4wMCcsCiAgICAgICBvbmdvaW5nX29yZGVyczogMCwKICAgICAgIGNvbXBsZXRlZF9vcmRlcnM6IDAsCiAgICAgICBvbmdvaW5nX29yZGVyc19hcnI6IFtdLAogICAgICAgY3VycmVudF9vcmRlcnNfYXJyOiBbXSwKICAgICB9KQogICAgIH0KICAgfSwKICAgdXBkYXRlZCgpewogICAgdGhpcy4kcmVmcy51TW9kYWwuZm9ybUZpbGxlcigpOwogICAgJCgnLmxhcmF2ZWwtdnVlLWRhdGF0YWJsZS10ZCcpLmVhY2goZnVuY3Rpb24oaSwgb2JqKSB7CiAgICAgICAgbGV0IGEgPSAkKHRoaXMpLnRleHQoKTsKICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKC9cZHs0fS1bMDFdXGQtWzAtM11cZFRbMC0yXVxkOlswLTVdXGQ6WzAtNV1cZCg/OlwuXGQrKT9aPy8pOwogICAgICAgIGlmKGEubWF0Y2gocmVnZXgpKXsKICAgICAgICAgICQodGhpcykudGV4dChtb21lbnQoYSkuZm9ybWF0KCdNTU1NIERvIFlZWVksIGg6bW06c3MgYScpKTsKICAgICAgICAgIC8vLy9jb25zb2xlLmxvZyhtb21lbnQoYSkuZm9ybWF0KCdNTU1NIERvIFlZWVksIGg6bW06c3MgYScpKTsKICAgICAgICB9CiAgICB9KTsKICAgfSwKICAgICAgbWV0aG9kczogewogICAgICB1cGRhdGVUYWJsZVJvdyhkYXRhKXsKCiAgICAgICAgdGhpcy5zZWxlY3RlZFJvdyA9IGRhdGE7CgogICAgICB9LAogICAgICBkZWxldGVUYWJsZVJvdyhkYXRhKXsKICAgICAgICB0aGlzLmRlbGV0ZVVzZXIoZGF0YS5pZCk7CiAgICAgIH0sCiAgICAgIGdldERhdGEodXJsID0gdGhpcy51cmwsIG9wdGlvbnMgPSB0aGlzLnRhYmxlUHJvcHMpIHsKICAgICAgICAgIGF4aW9zLmdldCh1cmwsIHsKICAgICAgICAgICAgICBwYXJhbXM6IG9wdGlvbnMKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgIC5jYXRjaChlcnJvcnMgPT4gewogICAgICAgICAgICAgIC8vSGFuZGxlIEVycm9ycwogICAgICAgICAgfSkKICAgICAgfSwKICAgICAgcmVsb2FkVGFibGUodGFibGVQcm9wcykgewogICAgICAgICAgdGhpcy5nZXREYXRhKHRoaXMudXJsLCB0YWJsZVByb3BzKTsKICAgICAgfSwKICAgICAgZ2V0UmVzdWx0cyhwYWdlID0gMSkgewogICAgICAJCQlheGlvcy5nZXQoJ2FwaS91c2VyP3BhZ2U9JyArIHBhZ2UpCiAgICAgIAkJCQkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIAkJCQkJdGhpcy51c2VycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIAkJCQl9KTsKICAgICAgCQl9LAoKICAgICAgdXBkYXRlVXNlcihpZCl7CiAgICAgICAgdGhpcy4kUHJvZ3Jlc3Muc3RhcnQoKTsKICAgICAgICB0aGlzLmZvcm0ucHV0KCdhcGkvdXNlci8nK3RoaXMuZm9ybS5pZCkKICAgICAgICAudGhlbigoKT0+ewogICAgICAgICAgLy9zdWNjZXNzZnVsCiAgICAgICAgICAkKCcjYWRkTmV3JykubW9kYWwoJ2hpZGUnKTsKICAgICAgICAgIHN3YWwuZmlyZSgKICAgICAgICAgICAgJ1VwZGF0ZWQhJywKICAgICAgICAgICAgJ1lvdXIgdXNlciBoYXMgYmVlbiB1cGRhdGVkLicsCiAgICAgICAgICAgICdzdWNjZXNzJwogICAgICAgICAgKQogICAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmluaXNoKCk7CiAgICAgICAgICBGaXJlLiRlbWl0KCdBZnRlckNyZWF0ZScpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpPT57CiAgICAgICAgICB0aGlzLiRQcm9ncmVzcy5mYWlsKCk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGVkaXRNb2RhbCh1c2VyKXsKICAgICAgICB0aGlzLmVkaXRtb2RlID0gdHJ1ZTsKICAgICAgICB0aGlzLmZvcm0ucmVzZXQoKTsKICAgICAgICAkKCcjYWRkTmV3JykubW9kYWwoJ3Nob3cnKTsKICAgICAgICB0aGlzLmZvcm0uZmlsbCh1c2VyKTsKICAgICAgfSwKICAgICAgbmV3TW9kYWwoKXsKICAgICAgICB0aGlzLmVkaXRtb2RlID0gZmFsc2U7CiAgICAgICAgdGhpcy5mb3JtLnJlc2V0KCk7CiAgICAgICAgJCgnI2FkZE5ldzEnKS5tb2RhbCgnc2hvdycpCiAgICAgIH0sCiAgICAgIGRlbGV0ZVVzZXIoaWQpewogICAgICAgIHN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLAogICAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRlbGV0ZSBpdCEnCiAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CgogICAgICAgICAgLy9zZW5kIHJlcSB0byBzZXJ2ZXIKICAgICAgICAgIGlmKHJlc3VsdC52YWx1ZSl7CiAgICAgICAgICB0aGlzLmZvcm0uZGVsZXRlKCdhcGkvdXNlci8nK2lkKS50aGVuKCgpPT57CiAgICAgICAgICBGaXJlLiRlbWl0KCdBZnRlckNyZWF0ZScpOwoKICAgICAgICAgICAgICBzd2FsLmZpcmUoCiAgICAgICAgICAgICAgICAnRGVsZXRlZCEnLAogICAgICAgICAgICAgICAgJ1lvdXIgdXNlciBoYXMgYmVlbiBkZWxldGVkLicsCiAgICAgICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICAgICApCgogICAgICAgICAgfSkuY2F0Y2goKCk9PnsKICAgICAgICAgIHN3YWwuZmlyZSgKICAgICAgICAgICAgJ0ZhaWxlZCEnLAogICAgICAgICAgICAnU29tZXRoaW5nIHdlbnQgd3JvbmcuJywKICAgICAgICAgICAgJ2Vycm9yJwogICAgICAgICAgKQogICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwKICAgICAgbG9hZFVzZXJzKCl7CiAgICAgICAgaWYodGhpcy4kZ2F0ZS5pc0FkbWluKXsKCgogICAgICAgIGF4aW9zLmdldCgiYXBpL3VzZXIiKS50aGVuKChkYXRhKT0+KHRoaXMudXNlcnM9ZGF0YS5kYXRhKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICAgIGNyZWF0ZVVzZXIoKXsKICAgICAgICAgIHRoaXMuJFByb2dyZXNzLnN0YXJ0KCk7CiAgICAgICAgICB0aGlzLmZvcm0uaWQgPSBEYXRlLm5vdygpOwogICAgICAgICAgdGhpcy5mb3JtLnBob3RvID0gInByb2ZpbGUucG5nIjsKICAgICAgICAgIHRoaXMuZm9ybS5wb3N0KCdhcGkvdXNlcicpCiAgICAgICAgICAudGhlbigoKT0+ewogICAgICAgICAgICBGaXJlLiRlbWl0KCdBZnRlckNyZWF0ZScpOwoKICAgICAgICAgICAgJCgnI2FkZE5ldycpLm1vZGFsKCdoaWRlJykKCiAgICAgICAgICAgIHRvYXN0LmZpcmUoewogICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICB0aXRsZTogJ1VzZXIgQ3JlYXRlZCBTdWNjZXNzZnVsbHknCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRQcm9ncmVzcy5maW5pc2goKTsKCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKCgpPT57CgogICAgICAgICAgICAkKCcjYWRkTmV3JykubW9kYWwoJ2hpZGUnKQoKICAgICAgICAgICAgc3dhbC5maXJlKCJGYWlsZWQhIiwgIlNvbWV0aGluZyB3ZW50IHdyb25nIiwgImVycm9yIik7CgogICAgICAgICAgICB0aGlzLiRQcm9ncmVzcy5mYWlsKCk7CgogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgfSwKICAgICAgbW91bnRlZCgpIHsKICAgICAgICAgIC8vY29uc29sZS5sb2coJ0NvbXBvbmVudCBtb3VudGVkLicpCiAgICAgIH0sCiAgICAgIGNyZWF0ZWQoKXsKICAgICAgICB0aGlzLmxvYWRVc2VycygpOwogICAgICAgIHRoaXMuZ2V0RGF0YSh0aGlzLnVybCk7CgogICAgICAgIEZpcmUuJG9uKCdBZnRlckNyZWF0ZScsICgpPT57CiAgICAgICAgICB0aGlzLmxvYWRVc2VycygpOwogICAgICAgIH0pOwoKCiAgICAgICAgLy9zZXRJbnRlcnZhbCgoKT0+dGhpcy5sb2FkVXNlcnMoKSwgMzAwMCk7CiAgICAgIH0KICB9Cg=="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA","file":"Users.vue","sourceRoot":"components","sourcesContent":["<template>\n    <div class=\"container\">\n    <div class=\"row mt-5\" v-if=\"$gate.isAdmin()\">\n\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">Users Table</h3>\n            <div class=\"card-tools\">\n              <button class=\"btn btn-success\" @click=\"newModal\">Add New\n                <i class=\"fas fa-user-plus\"></i>\n              </button>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <data-table\n                :data=\"data\"\n                :columns=\"columns\"\n                @onTablePropsChanged=\"reloadTable\">\n            </data-table>\n          </div>\n        </div>\n        <modal\n          :row=\"selectedRow\"\n          ref=\"uModal\">\n        </modal>\n\n      </div>\n      <!-- Modal -->\n          <div class=\"modal fade\" id=\"addNew1\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h5 class=\"modal-title\" v-show=\"!editmode\" id=\"addNewLabel\">Add New</h5>\n                  <h5 class=\"modal-title\" v-show=\"editmode\" id=\"addNewLabel\">Update User</h5>\n\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <form @submit.prevent=\"editmode ? updateUser() : createUser()\">\n                <div class=\"modal-body\">\n\n                <div class=\"form-group\">\n                      <input v-model=\"form.name\" type=\"text\" name=\"name\"\n                        class=\"form-control\" :class=\"{ 'is-invalid': form.errors.has('name') }\" placeholder=\"Username\">\n                      <has-error :form=\"form\" field=\"name\"></has-error>\n                </div>\n\n                <div class=\"form-group\">\n                      <input v-model=\"form.email\" type=\"text\" name=\"email\"\n                        class=\"form-control\" :class=\"{ 'is-invalid': form.errors.has('email') }\" placeholder=\"Email Address\">\n                      <has-error :form=\"form\" field=\"email\"></has-error>\n                </div>\n\n                <div class=\"form-group\">\n                      <textarea v-model=\"form.bio\" name=\"bio\" id=\"bio\"  placeholder=\"Short bio for user (Optional)\"\n                        class=\"form-control\" :class=\"{ 'is-invalid': form.errors.has('bio') }\"></textarea>\n                      <has-error :form=\"form\" field=\"bio\"></has-error>\n                </div>\n\n                <div class=\"form-group\">\n                      <select name=\"type\" v-model=\"form.type\" id=\"type\" class=\"form-control\" :class=\"{\n                      'is-invalid': form.errors.has('type')\n                      }\">\n                      <option value=\"\">Select User Role</option>\n                      <option value=\"admin\">Admin</option>\n                      <option value=\"booster\">Booster</option>\n                      <option value=\"coach\">Coach</option>\n                      <option value=\"client\">Client</option>\n\n                      </select>\n                      <has-error :form=\"form\" field=\"type\"></has-error>\n                </div>\n\n\n                <div class=\"form-group\">\n                      <input v-model=\"form.password\" type=\"password\" name=\"password\" id=\"password\"\n                        class=\"form-control\" :class=\"{ 'is-invalid': form.errors.has('password') }\" placeholder=\"Password\">\n                      <has-error :form=\"form\" field=\"password\"></has-error>\n                </div>\n\n                </div>\n                <div class=\"modal-footer\">\n                  <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                  <button v-show=\"editmode\" type=\"submit\" class=\"btn btn-success\">Update</button>\n                  <button v-show=\"!editmode\" type=\"submit\" class=\"btn btn-primary\">Create</button>\n\n                </div>\n                </form>\n              </div>\n            </div>\n          </div>\n    </div>\n    <div v-if=\"!$gate.isAdmin()\">\n      <not-found></not-found>\n    </div>\n\n\n    </div>\n</template>\n\n<script>\n  import moment from 'moment';\n\n    import Form from 'vform';\n    import UserEdit1 from './UserEdit1';\n    import UserEdit2 from './UserEdit2';\n    import UserModal from './UserModal';\n    export default {\n    components:{\n      UserEdit1,\n      UserEdit2,\n      UserModal,\n    },\n    data(){\n     return{\n       url: \"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/users\",\n       data: {},\n       tableProps: {\n           search: '',\n           length: 10,\n           column: 'id',\n           dir: 'asc'\n       },\n       columns: [\n           {\n               label: 'ID',\n               name: 'id',\n               orderable: true,\n           },\n           {\n               label: 'Name',\n               name: 'name',\n               orderable: true,\n           },\n           {\n               label: 'Type',\n               name: 'type',\n               orderable: true,\n           },\n           {\n               label: 'Email',\n               name: 'email',\n               orderable: true,\n           },\n           {\n               label: 'Registered At',\n               name: 'created_at',\n               orderable: true,\n           },\n           {\n               label: 'Edit',\n               component: UserEdit1,\n               orderable: false,\n               event: 'click',\n               handler: this.updateTableRow,\n           },\n           {\n               label: 'Delete',\n               component: UserEdit2,\n               orderable: false,\n               event: 'click',\n               handler: this.deleteTableRow,\n           },\n       ],\n       selectedRow:{},\n       editmode: true,\n       users: {},\n       form: new Form({\n         id: '',\n         name: '',\n         email: '',\n         password: '',\n         type: '',\n         bio: '',\n         photo: '',\n         payout: '0.00',\n         ongoing_orders: 0,\n         completed_orders: 0,\n         ongoing_orders_arr: [],\n         current_orders_arr: [],\n       })\n       }\n     },\n     updated(){\n      this.$refs.uModal.formFiller();\n      $('.laravel-vue-datatable-td').each(function(i, obj) {\n          let a = $(this).text();\n          let regex = new RegExp(/\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?Z?/);\n          if(a.match(regex)){\n            $(this).text(moment(a).format('MMMM Do YYYY, h:mm:ss a'));\n            ////console.log(moment(a).format('MMMM Do YYYY, h:mm:ss a'));\n          }\n      });\n     },\n        methods: {\n        updateTableRow(data){\n\n          this.selectedRow = data;\n\n        },\n        deleteTableRow(data){\n          this.deleteUser(data.id);\n        },\n        getData(url = this.url, options = this.tableProps) {\n            axios.get(url, {\n                params: options\n            })\n            .then(response => {\n                this.data = response.data;\n            })\n            // eslint-disable-next-line\n            .catch(errors => {\n                //Handle Errors\n            })\n        },\n        reloadTable(tableProps) {\n            this.getData(this.url, tableProps);\n        },\n        getResults(page = 1) {\n        \t\t\taxios.get('api/user?page=' + page)\n        \t\t\t\t.then(response => {\n        \t\t\t\t\tthis.users = response.data;\n        \t\t\t\t});\n        \t\t},\n\n        updateUser(id){\n          this.$Progress.start();\n          this.form.put('api/user/'+this.form.id)\n          .then(()=>{\n            //successful\n            $('#addNew').modal('hide');\n            swal.fire(\n              'Updated!',\n              'Your user has been updated.',\n              'success'\n            )\n            this.$Progress.finish();\n            Fire.$emit('AfterCreate');\n          })\n          .catch(()=>{\n            this.$Progress.fail();\n          });\n        },\n        editModal(user){\n          this.editmode = true;\n          this.form.reset();\n          $('#addNew').modal('show');\n          this.form.fill(user);\n        },\n        newModal(){\n          this.editmode = false;\n          this.form.reset();\n          $('#addNew1').modal('show')\n        },\n        deleteUser(id){\n          swal.fire({\n            title: 'Are you sure?',\n            text: \"You won't be able to revert this!\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Yes, delete it!'\n          }).then((result) => {\n\n            //send req to server\n            if(result.value){\n            this.form.delete('api/user/'+id).then(()=>{\n            Fire.$emit('AfterCreate');\n\n                swal.fire(\n                  'Deleted!',\n                  'Your user has been deleted.',\n                  'success'\n                )\n\n            }).catch(()=>{\n            swal.fire(\n              'Failed!',\n              'Something went wrong.',\n              'error'\n            )\n            });\n            }\n          })\n        },\n        loadUsers(){\n          if(this.$gate.isAdmin){\n\n\n          axios.get(\"api/user\").then((data)=>(this.users=data.data));\n          }\n        },\n          createUser(){\n            this.$Progress.start();\n            this.form.id = Date.now();\n            this.form.photo = \"profile.png\";\n            this.form.post('api/user')\n            .then(()=>{\n              Fire.$emit('AfterCreate');\n\n              $('#addNew').modal('hide')\n\n              toast.fire({\n                icon: 'success',\n                title: 'User Created Successfully'\n              });\n              this.$Progress.finish();\n\n            })\n            .catch(()=>{\n\n              $('#addNew').modal('hide')\n\n              swal.fire(\"Failed!\", \"Something went wrong\", \"error\");\n\n              this.$Progress.fail();\n\n            });\n          },\n        },\n        mounted() {\n            //console.log('Component mounted.')\n        },\n        created(){\n          this.loadUsers();\n          this.getData(this.url);\n\n          Fire.$on('AfterCreate', ()=>{\n            this.loadUsers();\n          });\n\n\n          //setInterval(()=>this.loadUsers(), 3000);\n        }\n    }\n</script>\n"]}]}