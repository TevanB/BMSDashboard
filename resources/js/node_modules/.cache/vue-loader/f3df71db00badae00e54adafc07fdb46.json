{"remainingRequest":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/Payments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/Payments.vue","mtime":1613347835579},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgRm9ybSBmcm9tICd2Zm9ybSc7CiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgZGF0YSgpewogICAgICAgICByZXR1cm57CgogICAgICAgICAgIGVkaXRtb2RlOiB0cnVlLAogICAgICAgICAgIHVzZXJzOiB7fSwKICAgICAgICAgICB1c2VyOnt9LAogICAgICAgICAgIG5ld19jdXJMUDonJywKICAgICAgICAgICBuZXdfZ2FtZU51bToxLAogICAgICAgICAgIG9yZGVyczp7fSwKICAgICAgICAgICByT3JkZXI6e30sCiAgICAgICAgICAgYWRtaW5Vc2VyOnt9LAogICAgICAgICAgIGZvcm06IG5ldyBGb3JtKHsKICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICAgdHlwZTogJycsCiAgICAgICAgICAgICBiaW86ICcnLAogICAgICAgICAgICAgcGhvdG86ICcnCiAgICAgICAgICAgfSksCiAgICAgICAgICAgdXNlclBQOiBuZXcgRm9ybSh7CiAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICAgICAgIHR5cGU6ICcnLAogICAgICAgICAgICAgYmlvOiAnJywKICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgIHBheW91dDonJywKICAgICAgICAgICAgIG9uZ29pbmdfb3JkZXJzOiAnJywKICAgICAgICAgICAgIGNvbXBsZXRlZF9vcmRlcnM6ICcnLAogICAgICAgICAgICAgb25nb2luZ19vcmRlcnNfYXJyOiAnJywKICAgICAgICAgICAgIGN1cnJlbnRfb3JkZXJzX2FycjogJycsCiAgICAgICAgICAgfSksCiAgICAgICAgICAgbmV3T3JkZXI6IG5ldyBGb3JtKHsKICAgICAgICAgICAgIG9yZGVyX2lkOiAnJywKICAgICAgICAgICAgIG9yZGVyX3R5cGU6ICcnLAogICAgICAgICAgICAgb3JkZXJfcHJpY2U6ICcnLAogICAgICAgICAgICAgb3JkZXJfbWVzc2FnZTogJycsCiAgICAgICAgICAgICBvcmRlcl9zdGF0dXM6ICcnLAogICAgICAgICAgICAgY2xpZW50X2lkOiAnJywKICAgICAgICAgICAgIGJvb3N0ZXJfaWQ6ICcnLAogICAgICAgICAgICAgY3JlYXRlZF9hdDogJycsCiAgICAgICAgICAgICBwYXlvdXRfc3RhdHVzOicnLAogICAgICAgICAgIH0pLAogICAgICAgICAgIH0KICAgICAgICAgfSwKICAgICAgICBtb3VudGVkKCkgewogICAgICAgIGlmKHRoaXMuJGdhdGUuaXNBZG1pbigpKXsKCiAgICAgICAgICAgIC8qZm9yKGxldCBpPTA7IGk8dGhpcy51c2Vycy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgaWYodGhpcy51c2Vyc1tpXS50eXBlID09PSAnYWRtaW4nKXsKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2hpdCcpOwogICAgICAgICAgICAgICAgdGhpcy5hZG1pblBheW91dCA9IHRoaXMudXNlcnNbaV0ucGF5b3V0OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSovCgogICAgICAgICAgICAvKndpbmRvdy5zZXRJbnRlcnZhbCgoKT0+ewogICAgICAgICAgICAgICAgdGhpcy5sb2FkT3JkZXJzKCk7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRVc2VycygpOwogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbW91bnRlZCByZWxvYWQnKTsKCiAgICAgICAgICAgIH0sIDEwMDAwKTsKKi8KCgoKICAgICAgICAgICAgd2luZG93LkVjaG8ucHJpdmF0ZSgncmVhc3NpZ24nKQogICAgICAgICAgICAgIC5saXN0ZW4oJ3JlcXVlc3QtYm9vc3Rlci1jaGFuZ2UnLCAoZSkgPT4gewoKICAgICAgICAgIC8vICAgICQoJyNyZWFzc2lnbkFsZXJ0cycpLmFwcGVuZCgKICAgICAgICAgIC8vICAgICI8ZGl2IGNsYXNzPSdhbGVydCBhbGVydC13YXJuaW5nIGFsZXJ0LWRpc21pc3NpYmxlIGNvbnRhaW5lci1mbHVpZCc+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbG9zZScgZGF0YS1kaXNtaXNzPSdhbGVydCcgYXJpYS1oaWRkZW49J3RydWUnPsOXPC9idXR0b24+PGg1PjxpIGNsYXNzPSdpY29uIGZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSc+PC9pPiBSZWFzc2lnbiBSZXF1ZXN0ITwvaDU+UmVhc3NpZ24gcmVxdWVzdCBmcm9tIE9yZGVyICMgIisgZS5vcmRlcklEICsiIC48L2Rpdj4iKTsKICAgICAgICAgICAgICBheGlvcy5nZXQoImh0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL29yZGVycyIpLnRoZW4oKGRhdGEpPT57CiAgICAgICAgICAgICAgICB0aGlzLm9yZGVycz1kYXRhOwogICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHJlc3BvbnNlLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2VbaV0ub3JkZXJfc3RhdHVzID09ICdyZWFzc2lnbicpewogICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZWFzc2lnbiBtYXRjaCcpOwogICAgICAgICAgICAgICAgICAkKCcjcmVhc3NpZ25BbGVydHMnKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICI8ZGl2IGNsYXNzPSdhbGVydCBhbGVydC13YXJuaW5nIGFsZXJ0LWRpc21pc3NpYmxlIGNvbnRhaW5lci1mbHVpZCc+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbG9zZScgZGF0YS1kaXNtaXNzPSdhbGVydCcgYXJpYS1oaWRkZW49J3RydWUnPsOXPC9idXR0b24+PGg1PjxpIGNsYXNzPSdpY29uIGZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSc+PC9pPiBSZWFzc2lnbiBSZXF1ZXN0ITwvaDU+UmVhc3NpZ24gcmVxdWVzdCBmcm9tIE9yZGVyICMgIisgcmVzcG9uc2VbaV0ub3JkZXJfaWQgKyIgLjwvZGl2PiIpOwoKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmxpc3RlbignZHJvcC1yZXF1ZXN0JywgKGUpID0+IHsKICAgICAgICAgICAgICAgICQoJyNhbGVydCcrZS5vcmRlcklEKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICQoJyNkcm9wQWxlcnRzJykuYXBwZW5kKAogICAgICAgICAgICAgICAgIjxkaXYgaWQ9J2FsZXJ0IitlLm9yZGVySUQrIicgY2xhc3M9J2FsZXJ0IGFsZXJ0LXdhcm5pbmcgYWxlcnQtZGlzbWlzc2libGUgY29udGFpbmVyLWZsdWlkJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2Nsb3NlJyBkYXRhLWRpc21pc3M9J2FsZXJ0JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+w5c8L2J1dHRvbj48aDU+PGkgY2xhc3M9J2ljb24gZmFzIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJz48L2k+IERyb3AgUmVxdWVzdCE8L2g1PkRyb3AgcmVxdWVzdCBmcm9tIE9yZGVyICMgIisgZS5vcmRlcklEICsiIC48L2Rpdj4iKTsKCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAubGlzdGVuKCdkb25lLXJlcXVlc3QnLCAoZSkgPT4gewogICAgICAgICAgICAgICAgJCgnI2RvbmUnK2Uub3JkZXJJRCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAkKCcjZG9uZUFsZXJ0cycpLmFwcGVuZCgKICAgICAgICAgICAgICAgICI8ZGl2IGlkPSdkb25lIitlLm9yZGVySUQrIicgY2xhc3M9J2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MgYWxlcnQtZGlzbWlzc2libGUgY29udGFpbmVyLWZsdWlkJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2Nsb3NlJyBkYXRhLWRpc21pc3M9J2FsZXJ0JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+w5c8L2J1dHRvbj48aDU+PGkgY2xhc3M9J2ljb24gZmFzIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJz48L2k+IENvbXBsZXRpb24gUmVxdWVzdCE8L2g1PkNvbXBsZXRpb24gcmVxdWVzdCBmcm9tIE9yZGVyICMgIisgZS5vcmRlcklEICsiIC48L2Rpdj4iKTsKCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgICAgICAgIHdpbmRvdy5FY2hvLnByaXZhdGUoJ2NsYWltcycpCiAgICAgICAgICAgICAgICAubGlzdGVuKCdvcmRlci1jbGFpbWVkJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgJCgnI2NsYWltJytlLm9yZGVySUQpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL3VzZXInKS50aGVuKChkYXRhKT0+ewogICAgICAgICAgICAgICAgICAgIGxldCB1c2VyTGlzdCA9IGRhdGEuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codXNlckxpc3QpOwogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wOyBqPHVzZXJMaXN0Lmxlbmd0aDsgaisrKXsKICAgICAgICAgICAgICAgICAgICAgIGlmKHVzZXJMaXN0W2pdLnR5cGUgIT0gJ2NsaWVudCcpewogICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBOYW1lID0gdXNlckxpc3Rbal0ubmFtZTsKICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaz0wOyBrPHVzZXJMaXN0W2pdLm9uZ29pbmdfb3JkZXJzX2Fyci5sZW5ndGg7IGsrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHVzZXJMaXN0W2pdLm9uZ29pbmdfb3JkZXJzX2FycltrXS5vcmRlcl9pZCA9PSBlLm9yZGVySUQpewogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdtYXRjaCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjbGFpbUFsZXJ0cycpLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAiPGRpdiBpZD0nY2xhaW0iK2Uub3JkZXJJRCsiJyBjbGFzcz0nYWxlcnQgYWxlcnQtcHJpbWFyeSBhbGVydC1kaXNtaXNzaWJsZSBjb250YWluZXItZmx1aWQnPjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nY2xvc2UnIGRhdGEtZGlzbWlzcz0nYWxlcnQnIGFyaWEtaGlkZGVuPSd0cnVlJz7DlzwvYnV0dG9uPjxoNT48aSBjbGFzcz0naWNvbiBmYXMgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGUnPjwvaT4gT3JkZXIgQ2xhaW0hPC9oNT4iK3RlbXBOYW1lKyIgY2xhaW1lZCBPcmRlciAjICIrIGUub3JkZXJJRCArIiAuPC9kaXY+Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKCgogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICBheGlvcy5nZXQoImh0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL29yZGVycyIpLnRoZW4oKGRhdGEpPT57CiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBkYXRhLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8cmVzcG9uc2UubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgICBpZihyZXNwb25zZVtpXS5vcmRlcl9zdGF0dXMgPT0gJ3JlYXNzaWduJyl7CiAgICAgICAgICAgICAgICAgICQoJyNyZWFzc2lnbkFsZXJ0cycpLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J2FsZXJ0IGFsZXJ0LXdhcm5pbmcgYWxlcnQtZGlzbWlzc2libGUgY29udGFpbmVyLWZsdWlkJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2Nsb3NlJyBkYXRhLWRpc21pc3M9J2FsZXJ0JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+w5c8L2J1dHRvbj48aDU+PGkgY2xhc3M9J2ljb24gZmFzIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJz48L2k+IFJlYXNzaWduIFJlcXVlc3QhPC9oNT5SZWFzc2lnbiByZXF1ZXN0IGZyb20gT3JkZXIgIyAiKyByZXNwb25zZVtpXS5vcmRlcl9pZCArIiAuPC9kaXY+Iik7CgogICAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXNwb25zZVtpXS5vcmRlcl9zdGF0dXMgPT0gJ3ZlcmlmeScpewogICAgICAgICAgICAgICAgICAkKCcjZG9uZUFsZXJ0cycpLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MgYWxlcnQtZGlzbWlzc2libGUgY29udGFpbmVyLWZsdWlkJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2Nsb3NlJyBkYXRhLWRpc21pc3M9J2FsZXJ0JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+w5c8L2J1dHRvbj48aDU+PGkgY2xhc3M9J2ljb24gZmFzIGZhLWNoZWNrJz48L2k+IENvbXBsZXRpb24gUmVxdWVzdCE8L2g1PkNvbXBsZXRpb24gcmVxdWVzdCBmcm9tIE9yZGVyICMgIisgcmVzcG9uc2VbaV0ub3JkZXJfaWQgKyIgLjwvZGl2PiIpOwoKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0pOwoKCiAgICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdXBkYXRlZCgpewoKCiAgICAgICAgfSwKICAgICAgICBtZXRob2RzOnsKICAgICAgICAgIGdldFBheW91dCh1c2VyKXsKICAgICAgICAgICAgLy9pZih1c2VyLnBheW91dCl7CiAgICAgICAgICAgICAgcmV0dXJuIHVzZXIucGF5b3V0LnRvRml4ZWQoMik7CiAgICAgICAgICAgIC8vfWVsc2UgaWYodXNlci5wYXlvdXQgPT09IDApewogICAgICAgICAgICAgIC8vcmV0dXJuIDAuMDA7CiAgICAgICAgICAgIC8vfQogICAgICAgICAgfSwKICAgICAgICAgIGdldFVzZXIoKXsKICAgICAgICAgICAgYXhpb3MuZ2V0KCJodHRwczovL2Jtcy1iYWNrZW5kLXNldHVwLXBheW91LXJzOHFreS5oZXJva3VhcHAuY29tL2FwaS9tZSIpLnRoZW4oKGRhdGEpPT57CgogICAgICAgICAgICAgIHRoaXMudXNlciA9IGRhdGEuZGF0YTsKICAgICAgICAgICAgICAvLy8vY29uc29sZS5sb2codGhpcy51c2VyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgbG9hZFVzZXJzKCl7CiAgICAgICAgICAgIGlmKHRoaXMuJGdhdGUuaXNBZG1pbil7CgoKICAgICAgICAgICAgYXhpb3MuZ2V0KCJodHRwczovL2Jtcy1iYWNrZW5kLXNldHVwLXBheW91LXJzOHFreS5oZXJva3VhcHAuY29tL2FwaS91c2VyIikudGhlbigoZGF0YSk9PnsKCiAgICAgICAgICAgIHRoaXMudXNlcnM9ZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPGRhdGEuZGF0YS5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhW2ldLnR5cGUgPT09ICdhZG1pbicpewogICAgICAgICAgICAgICAgdGhpcy5hZG1pblVzZXIgPSB0aGlzLnVzZXJzW2ldOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCgogICAgICAgICAgICB9CgogICAgICAgICAgfSwKICAgICAgICAgIGJvb3N0ZXJDdXQodG90YWxQcmljZSl7CiAgICAgICAgICAgIGxldCBhZGp1c3RlZFByaWNlID0gKHRvdGFsUHJpY2UqMC45NiktMC4zOwogICAgICAgICAgICBsZXQgYkN1dCA9IE1hdGguZmxvb3IoYWRqdXN0ZWRQcmljZSowLjcpOwogICAgICAgICAgICByZXR1cm4gYkN1dDsKICAgICAgICAgIH0sCiAgICAgICAgICBjb21wYW55Q3V0KHRvdGFsUHJpY2UpewogICAgICAgICAgICBsZXQgYWRqdXN0ZWRQcmljZSA9ICh0b3RhbFByaWNlKjAuOTYpLTAuMzsKICAgICAgICAgICAgbGV0IGJDdXQgPSBNYXRoLmZsb29yKGFkanVzdGVkUHJpY2UqMC43KTsKCiAgICAgICAgICAgIGxldCBjQ3V0ID0gYWRqdXN0ZWRQcmljZSAtIGJDdXQ7CiAgICAgICAgICAgIHJldHVybiBjQ3V0LnRvRml4ZWQoMik7CiAgICAgICAgICB9LAogICAgICAgICAgb3JkZXJFeHRyYUZvcm1hdChpbnB1dCl7CiAgICAgICAgICAgIGxldCB0ZW1wT2JqID0gaW5wdXQ7CiAgICAgICAgICAgIGlmKHRlbXBPYmopewogICAgICAgICAgICBpZih0eXBlb2YgdGVtcE9iaiA9PSAnc3RyaW5nJyl7CiAgICAgICAgICAgICAgdGVtcE9iaiA9IEpTT04ucGFyc2UoaW5wdXQpOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgbGV0IGFyciA9IHRlbXBPYmouZXh0cmFzOwogICAgICAgICAgICBsZXQgcmVzdWx0ID0gJyc7CiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPGFyci5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgcmVzdWx0ICs9IGFycltpXTsKICAgICAgICAgICAgICBpZihpICE9IGFyci5sZW5ndGgtMSl7CiAgICAgICAgICAgICAgICByZXN1bHQgKz0gIiB8ICI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgaXNEaXYob3JkZXIpewogICAgICAgICAgIC8vY29uc29sZS5sb2cob3JkZXIub3JkZXJfdHlwZSk7CiAgICAgICAgICAgIGlmKG9yZGVyLm9yZGVyX3R5cGUuaW5jbHVkZXMoJ0RpdmlzaW9uJykpewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBhZG1pblBheW91dHMoKXsKICAgICAgICAgICAgbGV0IGNvdW50ZXIgPSAwOwogICAgICAgICAgICBsZXQgb3JkZXJzUCA9ICcnCiAgICAgICAgICAgIGF4aW9zLmdldCgiaHR0cHM6Ly9ibXMtYmFja2VuZC1zZXR1cC1wYXlvdS1yczhxa3kuaGVyb2t1YXBwLmNvbS9hcGkvb3JkZXJzIikudGhlbigoZGF0YSk9PnsKICAgICAgICAgICAgICBvcmRlcnNQID0gZGF0YS5kYXRhLmRhdGE7CgogICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxvcmRlcnNQLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICBsZXQgc3BsaXR0ZXIgPSBvcmRlcnNQW2ldLm9yZGVyX3R5cGUuc3BsaXQoJycpOwogICAgICAgICAgICAgIGlmKHNwbGl0dGVyW3NwbGl0dGVyLmxlbmd0aC0xXSE9PScuJyl7CiAgICAgICAgICAgICAgICBpZihvcmRlcnNQW2ldLnBheW91dF9zdGF0dXMgPT09ICdpbi1wcm9ncmVzcycpewoKICAgICAgICAgICAgICAgICAgbGV0IGFkanVzdGVkUHJpY2UgPSAob3JkZXJzUFtpXS5vcmRlcl9wcmljZSowLjk2KS0wLjM7CiAgICAgICAgICAgICAgICAgIGxldCBiQ3V0ID0gTWF0aC5mbG9vcihhZGp1c3RlZFByaWNlKjAuNyk7CgogICAgICAgICAgICAgICAgICBsZXQgY0N1dCA9IGFkanVzdGVkUHJpY2UgLSBiQ3V0OwoKCiAgICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gcGFyc2VGbG9hdChjQ3V0LnRvRml4ZWQoMikpOwogICAgICAgICAgICAgICAgICBvcmRlcnNQW2ldLnBheW91dF9zdGF0dXMgPSAncHJvY2Vzc2VkJzsKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGF4aW9zLnB1dCgnaHR0cHM6Ly9ibXMtYmFja2VuZC1zZXR1cC1wYXlvdS1yczhxa3kuaGVyb2t1YXBwLmNvbS9hcGkvcGF5b3V0cycpOwogICAgICAgICAgICBheGlvcy5nZXQoImh0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL21lIikudGhlbigoZGF0YSk9PnsKICAgICAgICAgICAgICB0aGlzLnVzZXJQUC5maWxsKGRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgdGhpcy51c2VyUFAucGF5b3V0ICs9IGNvdW50ZXI7CiAgICAgICAgICAgICAgYXhpb3MucHV0KCdhcGkvbWUnLCB0aGlzLnVzZXJQUCkudGhlbigoZGF0YSk9PnsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMubG9hZFVzZXJzKCk7CiAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICB9LAogICAgICAgICAgcmVhc3NpZ25PcmRlcihvT2JqKXsKICAgICAgICAgICAgdGhpcy5yT3JkZXIgPSBvT2JqOwogICAgICAgICAgIC8vY29uc29sZS5sb2coSlNPTi5wYXJzZShvT2JqLm9yZGVyX21lc3NhZ2UpLnN1bW1vbmVyX25hbWUpOwogICAgICAgICAgICB0aGlzLm5ld09yZGVyLnJlc2V0KCk7CgogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2Jtcy1kYXNoLW5vZGUuaGVyb2t1YXBwLmNvbS9yYW5raW5ncy8nK0pTT04ucGFyc2Uob09iai5vcmRlcl9tZXNzYWdlKS5zdW1tb25lcl9uYW1lKycvJytKU09OLnBhcnNlKG9PYmoub3JkZXJfbWVzc2FnZSkucmVnaW9uLAogICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpewogICAgICAgICAgICAgICAgbGV0IHJhbmtzID0gWydJNCcsICdJMycsICdJMicsICdJMScsICdCNCcsICdCMycsICdCMicsICdCMScsICdTNCcsICdTMycsICdTMicsICdTMScsICdHNCcsICdHMycsICdHMicsICdHMScsICdQNCcsICdQMycsICdQMicsICdQMScsICdENCcsICdEMycsICdEMicsICdEMScsICJNIiwgJ0dNJywgJ0MnXTsKICAgICAgICAgICAgICAgIGxldCByYW5rczIgPSBbJ0lyb24gNCcsICdJcm9uIDMnLCAnSXJvbiAyJywgJ0lyb24gMScsICdCcm9uemUgNCcsICdCcm9uemUgMycsICdCcm9uemUgMicsICdCcm9uemUgMScsICdTaWx2ZXIgNCcsICdTaWx2ZXIgMycsICdTaWx2ZXIgMicsICdTaWx2ZXIgMScsICdHb2xkIDQnLCAnR29sZCAzJywgJ0dvbGQgMicsICdHb2xkIDEnLCAnUGxhdGludW0gNCcsICdQbGF0aW51bSAzJywgJ1BsYXRpbnVtIDInLCAnUGxhdGludW0gMScsICdEaWFtb25kIDQnLCAnRGlhbW9uZCAzJywgJ0RpYW1vbmQgMicsICdEaWFtb25kIDEnLCAiTWFzdGVyIiwgJ0dNJywgJ0MnXTsKCiAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IGRhdGEucmFuazsKICAgICAgICAgICAgICAgIGxldCB0eXBlID0gb09iai5vcmRlcl90eXBlLnNwbGl0KCcgLSAnKTsKICAgICAgICAgICAgICAgIGxldCByYW5rU2VjID0gdHlwZVsyXTsKICAgICAgICAgICAgICAgIGxldCByYW5rU2VjU3BsaXQgPSByYW5rU2VjLnNwbGl0KCcgJyk7CiAgICAgICAgICAgICAgICBsZXQgbHBPcHRpb24gPSAnJzsKICAgICAgICAgICAgICAgIHRoYXQubmV3T3JkZXIub3JkZXJfaWQgPSBEYXRlLm5vdygpOwoKICAgICAgICAgICAgICAgIGlmKG9PYmoub3JkZXJfdHlwZS5pbmNsdWRlcygnU29sbyBEaXZpc2lvbicpIHx8IG9PYmoub3JkZXJfdHlwZS5pbmNsdWRlcygnRHVvIERpdmlzaW9uJykpewogICAgICAgICAgICAgICAgICAgIHRoYXQubmV3T3JkZXIuY2xpZW50X2lkID0gb09iai5jbGllbnRfaWQKICAgICAgICAgICAgICAgICAgICBsZXQgaW5pdFJhbms9ICcnOwogICAgICAgICAgICAgICAgICAgIGxldCBmaW5SYW5rPSAnJzsKICAgICAgICAgICAgICAgICAgICBpZihyYW5rU2VjU3BsaXRbMF0hPT0nTWFzdGVyJyAmJiByYW5rU2VjU3BsaXRbMF0hPT0nR3JhbmRtYXN0ZXInICYmIHJhbmtTZWNTcGxpdFswXSE9PSdDaGFsbGVuZ2VyJyl7CiAgICAgICAgICAgICAgICAgICAgICBpbml0UmFuayA9IHJhbmtTZWNTcGxpdFswXSsiICIrcmFua1NlY1NwbGl0WzFdOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgaW5pdFJhbmsgPSByYW5rU2VjU3BsaXRbMF07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZihyYW5rU2VjU3BsaXRbcmFua1NlY1NwbGl0Lmxlbmd0aCAtIDFdICE9ICdNYXN0ZXInICYmIHJhbmtTZWNTcGxpdFtyYW5rU2VjU3BsaXQubGVuZ3RoIC0gMV0gIT0gJ0dyYW5kbWFzdGVyJyAmJiByYW5rU2VjU3BsaXRbcmFua1NlY1NwbGl0Lmxlbmd0aCAtIDFdICE9ICdDaGFsbGVuZ2VyJyl7CiAgICAgICAgICAgICAgICAgICAgICBmaW5SYW5rID0gcmFua1NlY1NwbGl0W3JhbmtTZWNTcGxpdC5sZW5ndGggLSAyXSsiICIrcmFua1NlY1NwbGl0W3JhbmtTZWNTcGxpdC5sZW5ndGggLSAxXTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgIGZpblJhbmsgPSByYW5rU2VjU3BsaXRbcmFua1NlY1NwbGl0Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhhdC5uZXdPcmRlci5vcmRlcl9tZXNzYWdlID0gb09iai5vcmRlcl9tZXNzYWdlOwoKICAgICAgICAgICAgICAgICAgICB0aGF0Lm5ld09yZGVyLmNsaWVudF9pZCA9IG9PYmouY2xpZW50X2lkOwoKCgoKICAgICAgICAgICAgICAgICAgICAvL21vZGFsIHNlY3Rpb24KICAgICAgICAgICAgICAgICAgICAkKCcjYWRkTmV3JykubW9kYWwoJ3Nob3cnKQogICAgICAgICAgICAgICAgICAgICQoJyNpbml0T3JkZXJQcmljZScpLnRleHQoJ0luaXRpYWwgUHJpY2U6ICQgJytvT2JqLm9yZGVyX3ByaWNlKycgVVNEJyk7CiAgICAgICAgICAgICAgICAgICAgJCgnI2luaXRPcmRlclR5cGUnKS50ZXh0KCdJbml0aWFsIFR5cGU6ICcraW5pdFJhbmsrJyB0byAnK2ZpblJhbmspOwogICAgICAgICAgICAgICAgICAgICQoJyNjdXJPcmRlclJhbmsnKS50ZXh0KCdDdXJyZW50IFJhbms6ICcrSlNPTi5wYXJzZShkYXRhKS5yYW5rKTsKICAgICAgICAgICAgICAgICAgICAkKCcjb3JkZXJTdW1OYW1lJykudGV4dCgnU3VtbW9uZXIgTmFtZTogJytKU09OLnBhcnNlKG9PYmoub3JkZXJfbWVzc2FnZSkuc3VtbW9uZXJfbmFtZSk7CgogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgIC8vZGVzaWduIHBsYWNlbWVudC9uZXR3aW4gcmVhc3NpZ25tZW50IHByb2Nlc3MKICAgICAgICAgICAgICAgICAgbGV0IGluaXRRdWFudGl0eSA9IHR5cGVbMl0uY2hhckF0KDApOwogICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGluaXRRdWFudGl0eSk7CiAgICAgICAgICAgICAgICAgIHRoYXQubmV3T3JkZXIub3JkZXJfbWVzc2FnZSA9IG9PYmoub3JkZXJfbWVzc2FnZTsKICAgICAgICAgICAgICAgICAgdGhhdC5uZXdPcmRlci5jbGllbnRfaWQgPSBvT2JqLmNsaWVudF9pZDsKCiAgICAgICAgICAgICAgICAgICQoJyNhZGROZXcnKS5tb2RhbCgnc2hvdycpCiAgICAgICAgICAgICAgICAgICQoJyNpbml0T3JkZXJQcmljZScpLnRleHQoJ0luaXRpYWwgUHJpY2U6ICQgJytvT2JqLm9yZGVyX3ByaWNlKycgVVNEJyk7CiAgICAgICAgICAgICAgICAgIGxldCBuZXdTcGxpdCA9IHR5cGVbM10uc3BsaXQoJyAnKTsKICAgICAgICAgICAgICAgICAgbGV0IHN0cnRSYW5rID0gbmV3U3BsaXRbMF07CiAgICAgICAgICAgICAgICAgIGlmKG9PYmoub3JkZXJfdHlwZS5pbmNsdWRlcygnTmV0JykpewoKICAgICAgICAgICAgICAgICAgICAkKCcjaW5pdE9yZGVyVHlwZScpLnRleHQoJ0luaXRpYWwgVHlwZTogJytpbml0UXVhbnRpdHkrJyAtICcrc3RydFJhbmsgKyAiIE5ldCBXaW4ocykiKTsKICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgJCgnI2luaXRPcmRlclR5cGUnKS50ZXh0KCdJbml0aWFsIFR5cGU6ICcraW5pdFF1YW50aXR5KycgLSAnK3N0cnRSYW5rICsgIiBQbGFjZW1lbnQgR2FtZShzKSIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICQoJyNjdXJPcmRlclJhbmsnKS50ZXh0KCdDdXJyZW50IFJhbms6ICcrSlNPTi5wYXJzZShkYXRhKS5yYW5rKTsKICAgICAgICAgICAgICAgICAgJCgnI29yZGVyU3VtTmFtZScpLnRleHQoJ1N1bW1vbmVyIE5hbWU6ICcrSlNPTi5wYXJzZShvT2JqLm9yZGVyX21lc3NhZ2UpLnN1bW1vbmVyX25hbWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgY3JlYXRlTmV3T3JkZXIoKXsKICAgICAgICAgICAgbGV0IG9PYmogPSB0aGlzLnJPcmRlcjsKICAgICAgICAgICAgJCgnI2FkZE5ldycpLm1vZGFsKCdoaWRlJyk7CiAgICAgICAgICAgIGxldCByYW5rcyA9IFsnSTQnLCAnSTMnLCAnSTInLCAnSTEnLCAnQjQnLCAnQjMnLCAnQjInLCAnQjEnLCAnUzQnLCAnUzMnLCAnUzInLCAnUzEnLCAnRzQnLCAnRzMnLCAnRzInLCAnRzEnLCAnUDQnLCAnUDMnLCAnUDInLCAnUDEnLCAnRDQnLCAnRDMnLCAnRDInLCAnRDEnLCAiTSIsICdHTScsICdDJ107CiAgICAgICAgICAgIGxldCByYW5rczIgPSBbJ0lyb24gNCcsICdJcm9uIDMnLCAnSXJvbiAyJywgJ0lyb24gMScsICdCcm9uemUgNCcsICdCcm9uemUgMycsICdCcm9uemUgMicsICdCcm9uemUgMScsICdTaWx2ZXIgNCcsICdTaWx2ZXIgMycsICdTaWx2ZXIgMicsICdTaWx2ZXIgMScsICdHb2xkIDQnLCAnR29sZCAzJywgJ0dvbGQgMicsICdHb2xkIDEnLCAnUGxhdGludW0gNCcsICdQbGF0aW51bSAzJywgJ1BsYXRpbnVtIDInLCAnUGxhdGludW0gMScsICdEaWFtb25kIDQnLCAnRGlhbW9uZCAzJywgJ0RpYW1vbmQgMicsICdEaWFtb25kIDEnLCAiTWFzdGVyIiwgJ0dNJywgJ0MnXTsKICAgICAgICAgICAgbGV0IHR5cGUgPSBvT2JqLm9yZGVyX3R5cGUuc3BsaXQoJyAtICcpOwogICAgICAgICAgICBsZXQgcmFua1NlYyA9IHR5cGVbMl07CiAgICAgICAgICAgIGxldCByYW5rU2VjU3BsaXQgPSByYW5rU2VjLnNwbGl0KCcgJyk7CgoKICAgICAgICAgICAgdGhpcy5uZXdPcmRlci5vcmRlcl9wcmljZSA9ICQoJyNvcmRlclByaWNlSW5wdXQnKS52YWwoKTsKCiAgICAgICAgICAgIGlmKHR5cGVbMV0gPT09ICdTb2xvIERpdmlzaW9uJyB8fCB0eXBlWzFdID09PSAnRHVvIERpdmlzaW9uJyl7CiAgICAgICAgICAgICAgbGV0IGluaXRSYW5rPSAnJzsKICAgICAgICAgICAgICBsZXQgZmluUmFuaz0gJyc7CgogICAgICAgICAgICAgIGlmKHJhbmtTZWNTcGxpdFswXSE9PSdNYXN0ZXInICYmIHJhbmtTZWNTcGxpdFswXSE9PSdHcmFuZG1hc3RlcicgJiYgcmFua1NlY1NwbGl0WzBdIT09J0NoYWxsZW5nZXInKXsKICAgICAgICAgICAgICAgIGluaXRSYW5rID0gcmFua1NlY1NwbGl0WzBdKyIgIityYW5rU2VjU3BsaXRbMV07CiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBpbml0UmFuayA9IHJhbmtTZWNTcGxpdFswXTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmKHJhbmtTZWNTcGxpdFtyYW5rU2VjU3BsaXQubGVuZ3RoIC0gMV0gIT0gJ01hc3RlcicgJiYgcmFua1NlY1NwbGl0W3JhbmtTZWNTcGxpdC5sZW5ndGggLSAxXSAhPSAnR3JhbmRtYXN0ZXInICYmIHJhbmtTZWNTcGxpdFtyYW5rU2VjU3BsaXQubGVuZ3RoIC0gMV0gIT0gJ0NoYWxsZW5nZXInKXsKICAgICAgICAgICAgICAgIGZpblJhbmsgPSByYW5rU2VjU3BsaXRbcmFua1NlY1NwbGl0Lmxlbmd0aCAtIDJdKyIgIityYW5rU2VjU3BsaXRbcmFua1NlY1NwbGl0Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgZmluUmFuayA9IHJhbmtTZWNTcGxpdFtyYW5rU2VjU3BsaXQubGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGxldCBjdXJSYW5rSW5mbyA9ICAkKCcjY3VyT3JkZXJSYW5rJykudGV4dCgpOwogICAgICAgICAgICAgIGxldCBjdXJSYW5rID0gY3VyUmFua0luZm8uc3Vic3RyaW5nKGN1clJhbmtJbmZvLnNlYXJjaCgnOicpKzEpOwogICAgICAgICAgICAgIHRoaXMubmV3T3JkZXIub3JkZXJfdHlwZSA9IHR5cGVbMF0rJyAtICcrdHlwZVsxXSsnIC0gJysgY3VyUmFuayArICcgJysgICQoImlucHV0W25hbWU9J29yZGVyX2xwJ106Y2hlY2tlZCIpLnZhbCgpICsnIExQIHRvICcrZmluUmFuaysnLic7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIC8vbmV0IHdpbiBvciBwbGFjZW1lbnQKICAgICAgICAgICAgICBsZXQgY3VyUmFua0luZm8gPSAgJCgnI2N1ck9yZGVyUmFuaycpLnRleHQoKTsKICAgICAgICAgICAgICBsZXQgY3VyUmFuayA9IGN1clJhbmtJbmZvLnN1YnN0cmluZyhjdXJSYW5rSW5mby5zZWFyY2goJzonKSsxKTsKICAgICAgICAgICAgICBpZihvT2JqLm9yZGVyX3R5cGUuaW5jbHVkZXMoJ05ldCcpKXsKICAgICAgICAgICAgICAgIHRoaXMubmV3T3JkZXIub3JkZXJfdHlwZSA9IHR5cGVbMF0rJyAtICcrdHlwZVsxXSsnIC0gJysgdGhpcy5uZXdfZ2FtZU51bSsnIC0gJytjdXJSYW5rKyIgTmV0IFdpbnMuIjsKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMubmV3T3JkZXIub3JkZXJfdHlwZSA9IHR5cGVbMF0rJyAtICcrdHlwZVsxXSsnIC0gJysgdGhpcy5uZXdfZ2FtZU51bSsnIC0gJytjdXJSYW5rKyIgUGxhY2VtZW50IEdhbWVzLiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpczsKCiAgICAgICAgICAgIC8vZm9ybWF0IGZvciBjbGllbnQgb3JkZXIgYXJyCiAgICAgICAgICAgIGxldCBjT3JkZXIgPSB7b3JkZXJfaWQ6JycsIG9yZGVyX3R5cGU6JycsIG9yZGVyX3ByaWNlOicnLCBvcmRlcl9tZXNzYWdlOm51bGwsIG9yZGVyX3N0YXR1czondW5jbGFpbWVkJywgcGF5b3V0X3N0YXR1czonaW4tcHJvZ3Jlc3MnLCBjbGllbnRfaWQ6ICcnLCBib29zdGVyX2lkOm51bGwsIGNyZWF0ZWRfYXQ6bnVsbCwgdXBkYXRlZF9hdDpudWxsfTsKCiAgICAgICAgICAgIGNPcmRlci5vcmRlcl9pZCA9IHRoaXMubmV3T3JkZXIub3JkZXJfaWQ7CiAgICAgICAgICAgIGNPcmRlci5vcmRlcl90eXBlID0gdGhpcy5uZXdPcmRlci5vcmRlcl90eXBlOwogICAgICAgICAgICBjT3JkZXIub3JkZXJfcHJpY2UgPSB0aGlzLm5ld09yZGVyLm9yZGVyX3ByaWNlOwogICAgICAgICAgICBjT3JkZXIub3JkZXJfbWVzc2FnZSA9IHRoaXMubmV3T3JkZXIub3JkZXJfbWVzc2FnZS5tZXNzYWdlOwogICAgICAgICAgICBjT3JkZXIucGF5b3V0X3N0YXR1cyA9ICdjb21wbGV0ZWQnOwoKICAgICAgICAgICAgY09yZGVyLmNsaWVudF9pZCA9IG9PYmouY2xpZW50X2lkOwogICAgICAgICAgIC8vY29uc29sZS5sb2coY09yZGVyKTsKCiAgICAgICAgICAgIGxldCBpbnB1dE9iaiA9IFtjT3JkZXIsIHRoaXMubmV3T3JkZXJdOwoKICAgICAgICAgICAgYXhpb3MucHV0KCdodHRwczovL2Jtcy1iYWNrZW5kLXNldHVwLXBheW91LXJzOHFreS5oZXJva3VhcHAuY29tL2FwaS9vcmRlclJlJywgaW5wdXRPYmopLnRoZW4oKCk9PnsKICAgICAgICAgICAgICBzd2FsLmZpcmUoCiAgICAgICAgICAgICAgICAnQ3JlYXRlZCEnLAogICAgICAgICAgICAgICAgJ1lvdXIgcmVhc3NpZ25tZW50IGhhcyBiZWVuIHNlbnQgb3V0IHRvIGJvb3N0ZXJzLicsCiAgICAgICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG9PYmoub3JkZXJfc3RhdHVzID0gJ3JlYXNzaWduJzsKICAgICAgICAgICAgYXhpb3MucHV0KCJodHRwczovL2Jtcy1iYWNrZW5kLXNldHVwLXBheW91LXJzOHFreS5oZXJva3VhcHAuY29tL2FwaS9vcmRlcnMvIitvT2JqLm9yZGVyX2lkLCBvT2JqKS50aGVuKCgpPT57CgogICAgICAgICAgICB9KTsKCiAgICAgICAgICB9LAogICAgICAgICAgY2hlY2tSZXF1ZXN0ZWQoaG9vbWFuKXsKICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICBpZihob29tYW4uY3VycmVudF9vcmRlcnNfYXJyKXsKICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxob29tYW4uY3VycmVudF9vcmRlcnNfYXJyLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgIGlmKGhvb21hbi5jdXJyZW50X29yZGVyc19hcnJbaV0ucGF5b3V0X3N0YXR1cyA9PT0gJ3JlcXVlc3RlZCcpewogICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgbWFya1JlYXNzaWduZWQob3JkZXIsIHBlcnNvbil7CiAgICAgICAgICAgIG9yZGVyLm9yZGVyX3N0YXR1cyA9ICdyZWFzc2lnbmVkJzsKICAgICAgICAgICAgYXhpb3MucHV0KCJodHRwczovL2Jtcy1iYWNrZW5kLXNldHVwLXBheW91LXJzOHFreS5oZXJva3VhcHAuY29tL2FwaS9yZWFzc2lnbmVkLyIrb3JkZXIub3JkZXJfaWQsIG9yZGVyKS50aGVuKCgpPT57CiAgICAgICAgICAgICAgdG9hc3QuZmlyZSh7CiAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICB0aXRsZTogJ09yZGVyIE1hcmtlZCBhcyBSZWFzc2lnbmVkIScKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBtYXJrRmluaXNoZWQob3JkZXIsIHBlcnNvbil7CgoKICAgICAgICAgICAgYXhpb3MucHV0KCdodHRwczovL2Jtcy1iYWNrZW5kLXNldHVwLXBheW91LXJzOHFreS5oZXJva3VhcHAuY29tL2FwaS9maW5pc2hlZC8nK29yZGVyLm9yZGVyX2lkKS50aGVuKChkYXRhKT0+ewogICAgICAgICAgICAgIHRvYXN0LmZpcmUoewogICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgdGl0bGU6ICdPcmRlciBNYXJrZWQgYXMgQ29tcGxldGVkIScKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaCgoKT0+ewogICAgICAgICAgICAgIHRvYXN0LmZpcmUoewogICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgIHRpdGxlOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcnCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8qb3JkZXIub3JkZXJfc3RhdHVzID0gJ2NvbXBsZXRlZCc7CgogICAgICAgICAgICBsZXQgaW5kZXggPSBwZXJzb24ub25nb2luZ19vcmRlcnNfYXJyLmluZGV4T2Yob3JkZXIpOwogICAgICAgICAgICBwZXJzb24ub25nb2luZ19vcmRlcnNfYXJyLnNwbGljZShpbmRleCwgMSk7CgogICAgICAgICAgICBwZXJzb24uY3VycmVudF9vcmRlcnNfYXJyLnB1c2gob3JkZXIpOwoKICAgICAgICAgICAgcGVyc29uLm9uZ29pbmdfb3JkZXJzIC09IDE7CiAgICAgICAgICAgIHBlcnNvbi5jb21wbGV0ZWRfb3JkZXJzICs9IDE7CiAgICAgICAgICAgIGxldCBhZGp1c3RlZFByaWNlID0gKG9yZGVyLm9yZGVyX3ByaWNlKjAuOTYpLTAuMzsKICAgICAgICAgICAgbGV0IGJDdXQgPSBNYXRoLmZsb29yKGFkanVzdGVkUHJpY2UqMC43KTsKICAgICAgICAgICAgcGVyc29uLnBheW91dCArPSBiQ3V0OwogICAgICAgICAgICBheGlvcy5wdXQoImh0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL29yZGVycy8iK29yZGVyLm9yZGVyX2lkLCBvcmRlcikudGhlbigoKT0+ewogICAgICAgICAgICAgIHRvYXN0LmZpcmUoewogICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgdGl0bGU6ICdPcmRlciBNYXJrZWQgYXMgQ29tcGxldGVkJwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pLmNhdGNoKCgpPT57CiAgICAgICAgICAgICAgdG9hc3QuZmlyZSh7CiAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgdGl0bGU6ICdTb21ldGhpbmcgd2VudCB3cm9uZycKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGF4aW9zLnB1dCgiaHR0cHM6Ly9ibXMtYmFja2VuZC1zZXR1cC1wYXlvdS1yczhxa3kuaGVyb2t1YXBwLmNvbS9hcGkvdXNlci8iK3BlcnNvbi5pZCwgcGVyc29uKS50aGVuKCgpPT57CiAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCJVc2VyIFVwZGF0ZSBTdWNjZXNzIik7CiAgICAgICAgICAgIH0pLmNhdGNoKCgpPT57CiAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCJVc2VyIFVwZGF0ZSBGYWlsZWQiKTsKCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAqLwogICAgICAgICAgfSwKICAgICAgICAgIGxvYWRPcmRlcnMoKXsKICAgICAgICAgICAgaWYodGhpcy4kZ2F0ZS5pc0FkbWluKXsKCgogICAgICAgICAgICBheGlvcy5nZXQoImh0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL29yZGVycyIpLnRoZW4oKGRhdGEpPT57CiAgICAgICAgICAgICAgdGhpcy5vcmRlcnM9ZGF0YTsKCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGNoZWNrRHJvcFJlcSh1c2VyKXsKICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dXNlci5vbmdvaW5nX29yZGVyc19hcnIubGVuZ3RoOyBpKyspewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHVzZXIub25nb2luZ19vcmRlcnNfYXJyW2ldLm9yZGVyX3N0YXR1cysiICIrdXNlci5uYW1lKTsKICAgICAgICAgICAgICBpZih1c2VyLm9uZ29pbmdfb3JkZXJzX2FycltpXS5vcmRlcl9zdGF0dXMgPT0gJ3JlcXVlc3RfZHJvcCcpewogICAgICAgICAgICAgICAgJCgnI2FsZXJ0Jyt1c2VyLm9uZ29pbmdfb3JkZXJzX2FycltpXS5vcmRlcl9pZCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAkKCcjZHJvcEFsZXJ0cycpLmFwcGVuZCgKICAgICAgICAgICAgICAgICI8ZGl2IGlkPSdhbGVydCIrdXNlci5vbmdvaW5nX29yZGVyc19hcnJbaV0ub3JkZXJfaWQrIicgY2xhc3M9J2FsZXJ0IGFsZXJ0LXdhcm5pbmcgYWxlcnQtZGlzbWlzc2libGUgY29udGFpbmVyLWZsdWlkJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2Nsb3NlJyBkYXRhLWRpc21pc3M9J2FsZXJ0JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+w5c8L2J1dHRvbj48aDU+PGkgY2xhc3M9J2ljb24gZmFzIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJz48L2k+IERyb3AgUmVxdWVzdCE8L2g1PkRyb3AgcmVxdWVzdCBmcm9tIE9yZGVyICMgIisgdXNlci5vbmdvaW5nX29yZGVyc19hcnJbaV0ub3JkZXJfaWQgKyIgLjwvZGl2PiIpOwoKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBjaGVja0RvbmVSZXEodXNlcil7CiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHVzZXIub25nb2luZ19vcmRlcnNfYXJyLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh1c2VyLm9uZ29pbmdfb3JkZXJzX2FycltpXS5vcmRlcl9zdGF0dXMrIiAiK3VzZXIubmFtZSk7CiAgICAgICAgICAgICAgaWYodXNlci5vbmdvaW5nX29yZGVyc19hcnJbaV0ub3JkZXJfc3RhdHVzID09ICd2ZXJpZnknKXsKICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2FsbnNma2xiYWRzbGcnKQogICAgICAgICAgICAgICAgJCgnI2RvbmUnK3VzZXIub25nb2luZ19vcmRlcnNfYXJyW2ldLm9yZGVyX2lkKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICQoJyNkb25lQWxlcnRzJykuYXBwZW5kKAogICAgICAgICAgICAgICAgIjxkaXYgaWQ9J2RvbmUiK3VzZXIub25nb2luZ19vcmRlcnNfYXJyW2ldLm9yZGVyX2lkKyInIGNsYXNzPSdhbGVydCBhbGVydC1zdWNjZXNzIGFsZXJ0LWRpc21pc3NpYmxlIGNvbnRhaW5lci1mbHVpZCc+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbG9zZScgZGF0YS1kaXNtaXNzPSdhbGVydCcgYXJpYS1oaWRkZW49J3RydWUnPsOXPC9idXR0b24+PGg1PjxpIGNsYXNzPSdpY29uIGZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSc+PC9pPiBDb21wbGV0aW9uIFJlcXVlc3QhPC9oNT5Db21wbGV0aW9uIHJlcXVlc3QgZnJvbSBPcmRlciAjICIrIHVzZXIub25nb2luZ19vcmRlcnNfYXJyW2ldLm9yZGVyX2lkICsiIC48L2Rpdj4iKTsKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgcGF5b3V0QWxsKHBlcnNvbil7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKHByb2Nlc3MpOwogICAgICAgICAgLy9jb25zb2xlLmxvZyhwcm9jZXNzLmVudik7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKHByb2Nlc3MuZW52Lk1JWF9QQVlQQUxfQVVUSE9SSVpBVElPTik7CiAgICAgICAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly9ibXMtYmFja2VuZC1zZXR1cC1wYXlvdS1yczhxa3kuaGVyb2t1YXBwLmNvbS9hcGkvcHBHZXQnKS50aGVuKChkYXRhKT0+ewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICAgICAgaWYocGVyc29uLnBheW91dCA+IDApewogICAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBheXBhbC5jb20vdjEvcGF5bWVudHMvcGF5b3V0cycsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJytkYXRhfSwKICAgICAgICAgICAgICAgICAgZGF0YTp7CiAgICAgICAgICAgICAgICAgICAgJ3NlbmRlcl9iYXRjaF9oZWFkZXInOiB7CiAgICAgICAgICAgICAgICAgICAgICAnc2VuZGVyX2JhdGNoX2lkJzogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgICAgICdyZWNpcGllbnRfdHlwZSc6ICdFTUFJTCcsCiAgICAgICAgICAgICAgICAgICAgICAnZW1haWxfc3ViamVjdCc6ICdZb3UgaGF2ZSBtb25leSEnLAogICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsX21lc3NhZ2UnOiAnWW91IGhhdmUgcmVjZWl2ZWQgYSBwYXlvdXQgZnJvbSBCTVMgQm9vc3RpbmcuIEdvb2Qgam9iIG9uIHlvdXIgb3JkZXJzIScsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAnaXRlbXMnOlsKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2Ftb3VudCc6ewogICAgICAgICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6IChwZXJzb24ucGF5b3V0IC0gKHBlcnNvbi5wYXlvdXQgKiAwLjAyKSkudG9GaXhlZCgyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnY3VycmVuY3knOiAnVVNEJwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAncmVjaXBpZW50X3dhbGxldCc6ICdQQVlQQUwnLAogICAgICAgICAgICAgICAgICAgICAgICAncmVjZWl2ZXInOiBwZXJzb24uZW1haWwsCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGF4aW9zKGNvbmZpZykudGhlbigoZGF0YSk9PnsKICAgICAgICAgICAgICAgIGxldCBvcmRlckFyciA9IHRoaXMub3JkZXJzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIGxldCB1c2VyT3JkZXJBcnIgPSBbXTsKCiAgICAgICAgICAgICAgICBheGlvcy5wdXQoJ2h0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL3BheW91dHMvJytwZXJzb24uaWQpLnRoZW4oKGRhdGEpPT57CiAgICAgICAgICAgICAgICAgIHRvYXN0LmZpcmUoewogICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1VzZXIgUGF5b3V0IENvbXBsZXRlJwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy9wZXJzb24ucGF5b3V0ID0gMDsKICAgICAgICAgICAgICAgIC8qZm9yKGxldCBpPTA7IGk8cGVyc29uLmN1cnJlbnRfb3JkZXJzX2Fyci5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgIGlmKHBlcnNvbi5jdXJyZW50X29yZGVyc19hcnJbaV0ucGF5b3V0X3N0YXR1cyAhPT0gJ2NvbXBsZXRlZCcpewogICAgICAgICAgICAgICAgICAgIHBlcnNvbi5jdXJyZW50X29yZGVyc19hcnJbaV0ucGF5b3V0X3N0YXR1cyA9ICdjb21wbGV0ZWQnOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9Ki8KICAgICAgICAgICAgICAgIC8vYXhpb3MucHV0KCdodHRwczovL2Jtcy1kYXNoLmhlcm9rdWFwcC5jb20vYXBpL3VzZXIvJytwZXJzb24uaWQsIHBlcnNvbik7CgoKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgc3dhbC5maXJlKAogICAgICAgICAgICAgICAgJ1BheW91dCBBbW91bnQgRXJyb3IhJywKICAgICAgICAgICAgICAgICdZb3VyIHBheW91dCB0byAnICsgcGVyc29uLmVtYWlsICsgIiBoYXMgbm90IGJlZW4gZXhlY3V0ZWQsIHRoZXkgaGF2ZSBhbiBpbnN1ZmZpY2llbnQgYmFsYW5jZSIsCiAgICAgICAgICAgICAgICAnZXJyb3InCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIGFkbWluV2l0aGRyYXcoKXsKICAgICAgICAgICAgYXhpb3MuZ2V0KCJodHRwczovL2Jtcy1iYWNrZW5kLXNldHVwLXBheW91LXJzOHFreS5oZXJva3VhcHAuY29tL2FwaS9tZSIpLnRoZW4oKGRhdGEpPT57CiAgICAgICAgICAgICAgdGhpcy51c2VyUFAuZmlsbChkYXRhLmRhdGEpOwogICAgICAgICAgICAgIHRoaXMudXNlclBQLnBheW91dCA9IDA7CiAgICAgICAgICAgICAgYXhpb3MucHV0KCdhcGkvbWUnLCB0aGlzLnVzZXJQUCkudGhlbigoZGF0YSk9PnsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBnZXRSZXN1bHRzKHBhZ2UgPSAxKSB7CiAgICAgICAgICAJCQlheGlvcy5nZXQoJ2FwaS9vcmRlcnM/cGFnZT0nICsgcGFnZSkKICAgICAgICAgIAkJCQkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAJCQkJCXRoaXMub3JkZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIAkJCQl9KTsKICAgICAgICAgIAkJfSwKICAgICAgICB9LAogICAgICAgIGNyZWF0ZWQoKXsKICAgICAgICAgIGlmKHRoaXMuJGdhdGUuaXNBZG1pbigpKXsKICAgICAgICAgICAgdGhpcy5sb2FkVXNlcnMoKTsKICAgICAgICAgICAgdGhpcy5nZXRVc2VyKCk7CiAgICAgICAgICAgIHRoaXMubG9hZE9yZGVycygpOwoKICAgICAgICAgIH0KCiAgICAgICAgfQogICAgfQo="},{"version":3,"sources":["Payments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+gBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"Payments.vue","sourceRoot":"components","sourcesContent":["<template>\n\n    <div class=\"container-fluid\">\n        <div>\n        <div class=\"row mt-5 justify-content-center\" v-if=\"$gate.isAdmin()\">\n\n\n\n\n\n            <div class=\"row container-fluid\">\n            <div class=\"col\">\n            <div class=\"card card-primary\">\n            <div class=\"card-header\">\n              <h3 class=\"card-title\">Admin Options</h3>\n\n              <div class=\"card-tools\">\n                <button type=\"button\" class=\"btn btn-tool\" data-card-widget=\"collapse\"><i class=\"fas fa-minus\"></i>\n                </button>\n              </div>\n              <!-- /.card-tools -->\n            </div>\n            <!-- /.card-header -->\n            <div class=\"card-body\">\n\n            <div class=\"row\">\n\n            <div class=\"col\">\n            <div class=\"card bg-light mb-3\" style=\"max-width: 18rem;\">\n              <div class=\"card-header\"></div>\n              <div class=\"card-body\">\n                <h5 class=\"card-title mb-5\">Admin Payout Getter</h5>\n                <button type=\"button\" class=\"btn btn-block btn-outline-primary\" @click.prevent=\"adminPayouts()\">Process</button>\n              </div>\n            </div>\n            </div>\n\n            <div class=\"col\">\n            <div class=\"card bg-light mb-3\" style=\"max-width: 18rem;\">\n              <div class=\"card-header\"></div>\n              <div class=\"card-body\">\n                <h5 class=\"card-title mb-5\">Admin Mark Withdrawn</h5>\n                <button type=\"button\" class=\"btn btn-block btn-outline-primary\" @click.prevent=\"adminWithdraw()\">Process</button>\n              </div>\n            </div>\n            </div>\n\n            <div class=\"col\">\n              <div class=\"card bg-light mb-3\" style=\"max-width: 18rem;\">\n                <div class=\"card-header\"></div>\n                <div class=\"card-body\">\n                  <h5 class=\"card-title mb-5\">Current Admin Payout</h5>\n                  <h2  id=\"uPayoutID\" class=\"text-center card-text\" :key=\"adminUser.payout\">${{getPayout(user)}} USD</h2>\n\n                </div>\n              </div>\n              </div>\n            </div>\n\n\n\n\n\n\n            </div>\n            <!-- /.card-body -->\n            </div>\n          </div>\n\n\n            </div>\n\n\n            <div class=\"row container-fluid\">\n            <div class=\"col\">\n            <div class=\"card card-primary\">\n            <div class=\"card-header\">\n              <h3 class=\"card-title\">Active Orders Summary</h3>\n\n              <div class=\"card-tools\">\n                <button type=\"button\" class=\"btn btn-tool\" data-card-widget=\"collapse\"><i class=\"fas fa-minus\"></i>\n                </button>\n              </div>\n              <!-- /.card-tools -->\n            </div>\n            <!-- /.card-header -->\n            <div class=\"card-body\">\n              <div class=\"row\">\n                <div class=\"col\">\n                  <h2 class=\"mt-3 mb-3 ml-3\">Order Reassign Requests</h2>\n                  <div class=\"row container-fluid\" id=\"reassignAlerts\">\n\n                  </div>\n                </div>\n                <div class=\"col\">\n                  <h2 class=\"mt-3 mb-3 ml-3\">Order Drop Requests</h2>\n                  <div class=\"row container-fluid\" id=\"dropAlerts\">\n\n                  </div>\n                </div>\n                <div class=\"col\">\n                  <h2 class=\"mt-3 mb-3 ml-3\">Order Completion Requests</h2>\n                  <div class=\"row container-fluid\" id=\"doneAlerts\">\n\n                  </div>\n                </div>\n                <div class=\"col\">\n                  <h2 class=\"mt-3 mb-3 ml-3\">Order Claims</h2>\n                  <div class=\"row container-fluid\" id=\"claimAlerts\">\n\n                  </div>\n                </div>\n              </div>\n              <h2 class=\"mt-3 mb-3 ml-3\">Ongoing Orders</h2>\n\n              <div class=\"row ml-3 mr-3\">\n\n                <table class=\"table table-hover\">\n                  <thead>\n                    <tr>\n                      <th>Order ID</th>\n                      <th>Booster ID</th>\n                      <th>Order Type</th>\n                      <th>Order Price</th>\n                      <th>Booster Payout</th>\n                      <th>Company Profits</th>\n                      <th>Order Message</th>\n                      <th>Order Status</th>\n                      <th>Payout Status</th>\n                      <th>Order Date</th>\n\n                    </tr>\n                  </thead>\n\n\n                  <tbody v-if=\"orders.data\">\n                    <tr v-for=\"order in orders.data.data\" :key=\"order.order_id\" v-if=\"orders.data && orders.data.data && order.order_status != 'unclaimed' && order.order_status != 'completed' && order.order_status != 'reassigned' && order.order_status != 'cancelled'\">\n\n\n\n\n\n\n\n<div class=\"modal fade\" id=\"addNew\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"addNewLabel\">Reassignment Info Setter</h5>\n\n\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <form @submit.prevent=\"createOrder()\">\n      <div class=\"modal-body\">\n\n\n      <h5 id=\"initOrderPrice\"></h5>\n      <h5 id=\"initOrderType\"></h5>\n      <h5 id=\"curOrderRank\"></h5>\n      <h5 id=\"orderSumName\"></h5>\n      <div class=\"form-group mt-3 mb-3\">\n            <label for=\"orderPriceInput\">Set Reassignment Order Price</label>\n            <input v-model=\"newOrder.order_price\" type=\"number\" name=\"order_price\" id=\"orderPriceInput\"\n              class=\"form-control\" :class=\"{ 'is-invalid': newOrder.errors.has('order_price') }\" placeholder=\"Order Price\">\n            <has-error :form=\"newOrder\" field=\"order_price\"></has-error>\n      </div>\n      <div>\n        <label for=\"gameSel\">Set Number of Wins/Games</label>\n        <h4 id=\"gameNum\">{{new_gameNum}}</h4>\n\n        <div class=\"form-group\" id=\"gameSec\">\n          <input type=\"range\" min=\"1\" max=\"20\" step=\"1\" value=\"10\" id=\"gameSel\" v-model=\"new_gameNum\" class=\"custom-range\">\n\n        </div>\n      </div>\n\n      <label for=\"radioSec\">Set Reassignment Order LP</label>\n\n      <div class=\"form-group\" id=\"radioSec\">\n\n        <div class=\"form-check\">\n            <input v-model=\"new_curLP\" type=\"radio\" name=\"order_lp\" value=\"(0-20)\" id=\"020\"\n              class=\"form-check-input\" checked>\n              <label class=\"form-check-label\" for=\"020\">(0-20) LP</label>\n\n              </div>\n\n\n            <div class=\"form-check\">\n\n              <input v-model=\"new_curLP\" type=\"radio\" name=\"order_lp\" value=\"(21-40)\" id=\"2140\"\n                class=\"form-check-input\">\n                <label class=\"form-check-label\" for=\"2140\">(21-40) LP</label>\n\n                </div>\n                <div class=\"form-check\">\n\n                <input v-model=\"new_curLP\" type=\"radio\" name=\"order_lp\" value=\"(41-60)\" id=\"4160\"\n                  class=\"form-check-input\">\n                  <label class=\"form-check-label\" for=\"4160\">(41-60) LP</label>\n\n                  </div>\n                  <div class=\"form-check\">\n\n\n                  <input v-model=\"new_curLP\" type=\"radio\" name=\"order_lp\" value=\"(61-80)\" id=\"6180\"\n                    class=\"form-check-input\">\n                    <label class=\"form-check-label\" for=\"6180\">(61-80) LP</label>\n\n                    </div>\n                    <div class=\"form-check\">\n\n\n                    <input v-model=\"new_curLP\" type=\"radio\" name=\"order_lp\" value=\"(81-99)\" id=\"8199\"\n                      class=\"form-check-input\">\n                      <label class=\"form-check-label\" for=\"8199\">(81-99) LP</label>\n\n                      </div>\n                      <div class=\"form-check\">\n\n\n                      <input v-model=\"new_curLP\" type=\"radio\" name=\"order_lp\" value=\"100\" id=\"100\"\n                        class=\"form-check-input\">\n                        <label class=\"form-check-label\" for=\"100\">100 LP</label>\n\n                        </div>\n      </div>\n\n\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"submit\" @click.prevent=\"createNewOrder()\" class=\"btn btn-primary\">Create</button>\n\n      </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n                      <td>{{order.order_id}}</td>\n                      <td>{{order.booster_id}}</td>\n\n                      <td>{{order.order_type}}</td>\n                      <td>{{order.order_price}}</td>\n                      <td>{{boosterCut(order.order_price)}}</td>\n                      <td>{{companyCut(order.order_price)}}</td>\n                      <td>{{orderExtraFormat(order.order_message)}}</td>\n                      <td>{{order.order_status}}</td>\n                      <td>{{order.payout_status}}</td>\n                      <td>{{order.created_at|myDate}}</td>\n\n                      <td>\n\n                        <button class=\"btn btn-block btn-primary\" @click.prevent=\"reassignOrder(order)\">Reassign</button>\n\n                      </td>\n\n\n\n\n                    </tr>\n\n                  </tbody>\n                </table>\n\n                </div>\n                <h2 class=\"mt-3 mb-3 ml-4\">Unclaimed Orders</h2>\n\n                <div class=\"row ml-3 mr-3\">\n\n                  <table class=\"table table-hover\">\n                    <thead>\n                      <tr>\n                        <th>Order ID</th>\n                        <th>Booster ID</th>\n                        <th>Order Type</th>\n                        <th>Order Price</th>\n                        <th>Booster Payout</th>\n                        <th>Company Profits</th>\n                        <th>Order Message</th>\n                        <th>Order Status</th>\n                        <th>Payout Status</th>\n                        <th>Order Date</th>\n\n                      </tr>\n                    </thead>\n\n\n                    <tbody v-if=\"orders.data\">\n                      <tr v-for=\"order in orders.data.data\" :key=\"order.order_id\" v-if=\"order.order_status == 'unclaimed'\">\n\n                                            <td>{{order.order_id}}</td>\n                                            <td>{{order.booster_id}}</td>\n\n                                            <td>{{order.order_type}}</td>\n                                            <td>{{order.order_price}}</td>\n                                            <td>{{boosterCut(order.order_price)}}</td>\n                                            <td>{{companyCut(order.order_price)}}</td>\n                                            <td>{{orderExtraFormat(order.order_message)}}</td>\n                                            <td>{{order.order_status}}</td>\n                                            <td>{{order.payout_status}}</td>\n                                            <td>{{order.created_at|myDate}}</td>\n\n\n\n\n\n                                          </tr>\n\n                                        </tbody>\n                                      </table>\n\n                                      </div>\n\n            </div>\n\n            <!-- /.card-body -->\n            </div>\n            </div>\n\n\n            </div>\n\n\n            <div class=\"mt-5 container-fluid\">\n\n            <div class=\"card collapsed-card\" v-for=\"user in users\" :key=\"user.id\" v-if=\"user.type!='client'\">\n            {{checkDropReq(user)}}\n\n            <div v-if=\"checkRequested(user) == true\">\n                      <div class=\"ribbon-wrapper\">\n                        <div class=\"ribbon bg-primary\">\n                          Payout\n                        </div>\n                      </div>\n                </div>\n\n              <div class=\"card-header\">\n                <!-- Collapse Button -->\n                <button type=\"button\" class=\"btn btn-tool\" data-card-widget=\"collapse\"><i class=\"fas fa-plus\"></i></button>\n                <br>\n                <h3 class=\"card-title\">{{user.name}} | {{user.id}}</h3>\n\n\n                <!-- /.card-tools -->\n\n              </div>\n\n              <!-- /.card-header -->\n              <div class=\"card-body\">\n                <div class=\"row\">\n\n                  <div class=\"col\">\n                    <div class=\"card bg-light mb-3\" style=\"max-width: 18rem;\">\n                      <div class=\"card-header\">Current Payout</div>\n                      <div class=\"card-body\">\n                        <h2  id=\"uPayout\" class=\"text-center card-text\">{{user.payout}}</h2>\n\n                      </div>\n\n                    </div>\n                  </div>\n\n\n                  <div class=\"col\">\n                  <div class=\"card bg-light mb-3\" style=\"max-width: 18rem;\">\n                    <div class=\"card-header\"></div>\n                    <div class=\"card-body\">\n                      <h5 class=\"card-title mb-5\">Payout All</h5>\n                      <button type=\"button\" class=\"btn btn-block btn-outline-primary\" @click.prevent=\"payoutAll(user)\">Process</button>\n                    </div>\n                  </div>\n                  </div>\n\n\n                  <div class=\"col\">\n                    <div class=\"card bg-light mb-3\" style=\"max-width: 18rem;\">\n                      <div class=\"card-header\">Email Address</div>\n                      <div class=\"card-body\">\n                        <p id=\"uPayout\" class=\"text-center text-bold card-text\">{{user.email}}</p>\n\n                      </div>\n\n                    </div>\n                  </div>\n\n\n\n                </div>\n                <div class=\"card\">\n                  <div class=\"card-header\">\n                    <h3 class=\"card-title\">Ongoing Orders</h3>\n                    <div class=\"card-tools\">\n\n                  </div>\n                  </div>\n                  <!-- /.card-header -->\n                  <div class=\"card-body table-responsive p-0\">\n                    <table class=\"table table-hover\">\n                      <thead>\n                        <tr>\n                          <th>Order ID</th>\n                          <th>Booster ID</th>\n                          <th>Order Type</th>\n                          <th>Order Price</th>\n                          <th>Booster Payout</th>\n                          <th>Company Profits</th>\n                          <th>Order Message</th>\n                          <th>Order Status</th>\n                          <th>Payout Status</th>\n                          <th>Order Date</th>\n\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr v-for=\"order in user.ongoing_orders_arr\" :key=\"order.order_id\">\n\n                          <td>{{order.order_id}}</td>\n                          <td>{{order.booster_id}}</td>\n\n                          <td>{{order.order_type}}</td>\n                          <td>{{order.order_price}}</td>\n                          <td>{{boosterCut(order.order_price)}}</td>\n                          <td>{{companyCut(order.order_price)}}</td>\n                          <td>{{orderExtraFormat(order.order_message)}}</td>\n                          <td>{{order.order_status}}</td>\n                          <td>{{order.payout_status}}</td>\n                          <td>{{order.created_at|myDate}}</td>\n\n                          <td>\n\n                            <button class=\"btn btn-block btn-primary\" @click.prevent=\"markFinished(order, user)\">Mark Finished</button>\n\n                          </td>\n\n                          <td>\n\n                            <button class=\"btn btn-block btn-primary\" @click.prevent=\"markReassigned(order, user)\">Mark Reassigned</button>\n\n                          </td>\n\n\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                  <!-- /.card-body -->\n                  <div class=\"card-footer\">\n                    <pagination :data=\"orders\" :limit=-1 @pagination-change-page=\"getResults\"></pagination>\n                  </div>\n                </div>\n                <!-- /.card -->\n\n\n                <div class=\"card\">\n                  <div class=\"card-header\">\n                    <h3 class=\"card-title\">Completed Orders</h3>\n                    <div class=\"card-tools\">\n\n                  </div>\n                  </div>\n                  <!-- /.card-header -->\n                  <div class=\"card-body table-responsive p-0\">\n                    <table class=\"table table-hover\">\n                      <thead>\n                        <tr>\n                          <th>Order ID</th>\n                          <th>Booster ID</th>\n                          <th>Order Type</th>\n                          <th>Order Price</th>\n                          <th>Booster Payout</th>\n                          <th>Company Profits</th>\n                          <th>Payout Status</th>\n                          <th>Order Message</th>\n                          <th>Order Date</th>\n\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr v-for=\"order in user.current_orders_arr\" :key=\"order.order_id\">\n\n                          <td>{{order.order_id}}</td>\n                          <td>{{order.booster_id}}</td>\n\n                          <td>{{order.order_type}}</td>\n                          <td>{{order.order_price}}</td>\n                          <td>{{boosterCut(order.order_price)}}</td>\n                          <td>{{companyCut(order.order_price)}}</td>\n                          <td>{{order.payout_status}}</td>\n                          <td>{{orderExtraFormat(order.order_message)}}</td>\n                          <td>{{order.created_at|myDate}}</td>\n\n\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                  <!-- /.card-body -->\n                  <div class=\"card-footer\">\n                    <pagination :data=\"orders\" :limit=-1 @pagination-change-page=\"getResults\"></pagination>\n                  </div>\n                </div>\n                <!-- /.card -->\n\n\n              </div>\n              <!-- /.card-body -->\n            </div>\n            <!-- /.card -->\n\n\n            </div>\n        </div>\n        </div>\n        <div>\n        <div v-if=\"$gate.isAdmin() == false\">\n          <not-found></not-found>\n        </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Form from 'vform';\n    export default {\n        data(){\n         return{\n\n           editmode: true,\n           users: {},\n           user:{},\n           new_curLP:'',\n           new_gameNum:1,\n           orders:{},\n           rOrder:{},\n           adminUser:{},\n           form: new Form({\n             id: '',\n             name: '',\n             email: '',\n             password: '',\n             type: '',\n             bio: '',\n             photo: ''\n           }),\n           userPP: new Form({\n             id: '',\n             name: '',\n             email: '',\n             password: '',\n             type: '',\n             bio: '',\n             photo: '',\n             payout:'',\n             ongoing_orders: '',\n             completed_orders: '',\n             ongoing_orders_arr: '',\n             current_orders_arr: '',\n           }),\n           newOrder: new Form({\n             order_id: '',\n             order_type: '',\n             order_price: '',\n             order_message: '',\n             order_status: '',\n             client_id: '',\n             booster_id: '',\n             created_at: '',\n             payout_status:'',\n           }),\n           }\n         },\n        mounted() {\n        if(this.$gate.isAdmin()){\n\n            /*for(let i=0; i<this.users.length; i++){\n              if(this.users[i].type === 'admin'){\n                //console.log('hit');\n                this.adminPayout = this.users[i].payout;\n              }\n            }*/\n\n            /*window.setInterval(()=>{\n                this.loadOrders();\n                this.loadUsers();\n                //console.log('mounted reload');\n\n            }, 10000);\n*/\n\n\n\n            window.Echo.private('reassign')\n              .listen('request-booster-change', (e) => {\n\n          //    $('#reassignAlerts').append(\n          //    \"<div class='alert alert-warning alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-exclamation-triangle'></i> Reassign Request!</h5>Reassign request from Order # \"+ e.orderID +\" .</div>\");\n              axios.get(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/orders\").then((data)=>{\n                this.orders=data;\n                let response = data.data.data;\n                //console.log(response);\n                for(let i=0; i<response.length; i++){\n                  if(response[i].order_status == 'reassign'){\n                  //console.log('reassign match');\n                  $('#reassignAlerts').append(\n                  \"<div class='alert alert-warning alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-exclamation-triangle'></i> Reassign Request!</h5>Reassign request from Order # \"+ response[i].order_id +\" .</div>\");\n\n                  }\n                }\n              });\n              })\n              .listen('drop-request', (e) => {\n                $('#alert'+e.orderID).remove();\n                $('#dropAlerts').append(\n                \"<div id='alert\"+e.orderID+\"' class='alert alert-warning alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-exclamation-triangle'></i> Drop Request!</h5>Drop request from Order # \"+ e.orderID +\" .</div>\");\n\n              })\n              .listen('done-request', (e) => {\n                $('#done'+e.orderID).remove();\n                $('#doneAlerts').append(\n                \"<div id='done\"+e.orderID+\"' class='alert alert-success alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-exclamation-triangle'></i> Completion Request!</h5>Completion request from Order # \"+ e.orderID +\" .</div>\");\n\n              });\n              let that = this;\n              window.Echo.private('claims')\n                .listen('order-claimed', (e) => {\n                  $('#claim'+e.orderID).remove();\n                  axios.get('https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/user').then((data)=>{\n                    let userList = data.data.data;\n                    //console.log(userList);\n                    for(let j=0; j<userList.length; j++){\n                      if(userList[j].type != 'client'){\n                      let tempName = userList[j].name;\n                      for(let k=0; k<userList[j].ongoing_orders_arr.length; k++){\n                        if(userList[j].ongoing_orders_arr[k].order_id == e.orderID){\n                        //console.log('match');\n                          $('#claimAlerts').append(\n                          \"<div id='claim\"+e.orderID+\"' class='alert alert-primary alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-exclamation-triangle'></i> Order Claim!</h5>\"+tempName+\" claimed Order # \"+ e.orderID +\" .</div>\");\n                          break;\n                        }\n                      }}\n                    }\n                  });\n\n\n              })\n             axios.get(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/orders\").then((data)=>{\n                let response = data.data.data;\n\n               //console.log(response);\n                for(let i=0; i<response.length; i++){\n                  if(response[i].order_status == 'reassign'){\n                  $('#reassignAlerts').append(\n                  \"<div class='alert alert-warning alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-exclamation-triangle'></i> Reassign Request!</h5>Reassign request from Order # \"+ response[i].order_id +\" .</div>\");\n\n                  }else if(response[i].order_status == 'verify'){\n                  $('#doneAlerts').append(\n                  \"<div class='alert alert-success alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-check'></i> Completion Request!</h5>Completion request from Order # \"+ response[i].order_id +\" .</div>\");\n\n                  }\n                }\n\n                });\n\n\n              }\n        },\n        updated(){\n\n\n        },\n        methods:{\n          getPayout(user){\n            //if(user.payout){\n              return user.payout.toFixed(2);\n            //}else if(user.payout === 0){\n              //return 0.00;\n            //}\n          },\n          getUser(){\n            axios.get(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/me\").then((data)=>{\n\n              this.user = data.data;\n              ////console.log(this.user);\n            });\n          },\n          loadUsers(){\n            if(this.$gate.isAdmin){\n\n\n            axios.get(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/user\").then((data)=>{\n\n            this.users=data.data.data;\n            for(let i=0; i<data.data.length; i++){\n              if(data.data[i].type === 'admin'){\n                this.adminUser = this.users[i];\n              }\n            }\n            });\n\n\n            }\n\n          },\n          boosterCut(totalPrice){\n            let adjustedPrice = (totalPrice*0.96)-0.3;\n            let bCut = Math.floor(adjustedPrice*0.7);\n            return bCut;\n          },\n          companyCut(totalPrice){\n            let adjustedPrice = (totalPrice*0.96)-0.3;\n            let bCut = Math.floor(adjustedPrice*0.7);\n\n            let cCut = adjustedPrice - bCut;\n            return cCut.toFixed(2);\n          },\n          orderExtraFormat(input){\n            let tempObj = input;\n            if(tempObj){\n            if(typeof tempObj == 'string'){\n              tempObj = JSON.parse(input);\n            }\n\n\n            let arr = tempObj.extras;\n            let result = '';\n            for(let i=0; i<arr.length; i++){\n              result += arr[i];\n              if(i != arr.length-1){\n                result += \" | \";\n              }\n\n            }\n            return result;\n            }\n          },\n          isDiv(order){\n           //console.log(order.order_type);\n            if(order.order_type.includes('Division')){\n              return true;\n            }else{\n              return false;\n            }\n          },\n          adminPayouts(){\n            let counter = 0;\n            let ordersP = ''\n            axios.get(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/orders\").then((data)=>{\n              ordersP = data.data.data;\n\n            for(let i=0; i<ordersP.length; i++){\n              let splitter = ordersP[i].order_type.split('');\n              if(splitter[splitter.length-1]!=='.'){\n                if(ordersP[i].payout_status === 'in-progress'){\n\n                  let adjustedPrice = (ordersP[i].order_price*0.96)-0.3;\n                  let bCut = Math.floor(adjustedPrice*0.7);\n\n                  let cCut = adjustedPrice - bCut;\n\n\n                  counter += parseFloat(cCut.toFixed(2));\n                  ordersP[i].payout_status = 'processed';\n\n                }\n              }\n            }\n            axios.put('https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/payouts');\n            axios.get(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/me\").then((data)=>{\n              this.userPP.fill(data.data);\n              this.userPP.payout += counter;\n              axios.put('api/me', this.userPP).then((data)=>{\n                window.location.reload();\n              })\n            });\n            });\n            this.loadUsers();\n            this.$forceUpdate();\n          },\n          reassignOrder(oObj){\n            this.rOrder = oObj;\n           //console.log(JSON.parse(oObj.order_message).summoner_name);\n            this.newOrder.reset();\n\n            let that = this;\n            $.ajax({\n              method: 'GET',\n              url: 'https://bms-dash-node.herokuapp.com/rankings/'+JSON.parse(oObj.order_message).summoner_name+'/'+JSON.parse(oObj.order_message).region,\n              success: function(data){\n                let ranks = ['I4', 'I3', 'I2', 'I1', 'B4', 'B3', 'B2', 'B1', 'S4', 'S3', 'S2', 'S1', 'G4', 'G3', 'G2', 'G1', 'P4', 'P3', 'P2', 'P1', 'D4', 'D3', 'D2', 'D1', \"M\", 'GM', 'C'];\n                let ranks2 = ['Iron 4', 'Iron 3', 'Iron 2', 'Iron 1', 'Bronze 4', 'Bronze 3', 'Bronze 2', 'Bronze 1', 'Silver 4', 'Silver 3', 'Silver 2', 'Silver 1', 'Gold 4', 'Gold 3', 'Gold 2', 'Gold 1', 'Platinum 4', 'Platinum 3', 'Platinum 2', 'Platinum 1', 'Diamond 4', 'Diamond 3', 'Diamond 2', 'Diamond 1', \"Master\", 'GM', 'C'];\n\n               //console.log(data);\n                let current = data.rank;\n                let type = oObj.order_type.split(' - ');\n                let rankSec = type[2];\n                let rankSecSplit = rankSec.split(' ');\n                let lpOption = '';\n                that.newOrder.order_id = Date.now();\n\n                if(oObj.order_type.includes('Solo Division') || oObj.order_type.includes('Duo Division')){\n                    that.newOrder.client_id = oObj.client_id\n                    let initRank= '';\n                    let finRank= '';\n                    if(rankSecSplit[0]!=='Master' && rankSecSplit[0]!=='Grandmaster' && rankSecSplit[0]!=='Challenger'){\n                      initRank = rankSecSplit[0]+\" \"+rankSecSplit[1];\n                    }else{\n                      initRank = rankSecSplit[0];\n                    }\n\n                    if(rankSecSplit[rankSecSplit.length - 1] != 'Master' && rankSecSplit[rankSecSplit.length - 1] != 'Grandmaster' && rankSecSplit[rankSecSplit.length - 1] != 'Challenger'){\n                      finRank = rankSecSplit[rankSecSplit.length - 2]+\" \"+rankSecSplit[rankSecSplit.length - 1];\n                    }else{\n                      finRank = rankSecSplit[rankSecSplit.length - 1];\n                    }\n\n                    that.newOrder.order_message = oObj.order_message;\n\n                    that.newOrder.client_id = oObj.client_id;\n\n\n\n\n                    //modal section\n                    $('#addNew').modal('show')\n                    $('#initOrderPrice').text('Initial Price: $ '+oObj.order_price+' USD');\n                    $('#initOrderType').text('Initial Type: '+initRank+' to '+finRank);\n                    $('#curOrderRank').text('Current Rank: '+JSON.parse(data).rank);\n                    $('#orderSumName').text('Summoner Name: '+JSON.parse(oObj.order_message).summoner_name);\n\n                }else{\n                  //design placement/netwin reassignment process\n                  let initQuantity = type[2].charAt(0);\n                  //console.log(initQuantity);\n                  that.newOrder.order_message = oObj.order_message;\n                  that.newOrder.client_id = oObj.client_id;\n\n                  $('#addNew').modal('show')\n                  $('#initOrderPrice').text('Initial Price: $ '+oObj.order_price+' USD');\n                  let newSplit = type[3].split(' ');\n                  let strtRank = newSplit[0];\n                  if(oObj.order_type.includes('Net')){\n\n                    $('#initOrderType').text('Initial Type: '+initQuantity+' - '+strtRank + \" Net Win(s)\");\n                  }else{\n                    $('#initOrderType').text('Initial Type: '+initQuantity+' - '+strtRank + \" Placement Game(s)\");\n                  }\n                  $('#curOrderRank').text('Current Rank: '+JSON.parse(data).rank);\n                  $('#orderSumName').text('Summoner Name: '+JSON.parse(oObj.order_message).summoner_name);\n                }\n              }\n            });\n          },\n          createNewOrder(){\n            let oObj = this.rOrder;\n            $('#addNew').modal('hide');\n            let ranks = ['I4', 'I3', 'I2', 'I1', 'B4', 'B3', 'B2', 'B1', 'S4', 'S3', 'S2', 'S1', 'G4', 'G3', 'G2', 'G1', 'P4', 'P3', 'P2', 'P1', 'D4', 'D3', 'D2', 'D1', \"M\", 'GM', 'C'];\n            let ranks2 = ['Iron 4', 'Iron 3', 'Iron 2', 'Iron 1', 'Bronze 4', 'Bronze 3', 'Bronze 2', 'Bronze 1', 'Silver 4', 'Silver 3', 'Silver 2', 'Silver 1', 'Gold 4', 'Gold 3', 'Gold 2', 'Gold 1', 'Platinum 4', 'Platinum 3', 'Platinum 2', 'Platinum 1', 'Diamond 4', 'Diamond 3', 'Diamond 2', 'Diamond 1', \"Master\", 'GM', 'C'];\n            let type = oObj.order_type.split(' - ');\n            let rankSec = type[2];\n            let rankSecSplit = rankSec.split(' ');\n\n\n            this.newOrder.order_price = $('#orderPriceInput').val();\n\n            if(type[1] === 'Solo Division' || type[1] === 'Duo Division'){\n              let initRank= '';\n              let finRank= '';\n\n              if(rankSecSplit[0]!=='Master' && rankSecSplit[0]!=='Grandmaster' && rankSecSplit[0]!=='Challenger'){\n                initRank = rankSecSplit[0]+\" \"+rankSecSplit[1];\n              }else{\n                initRank = rankSecSplit[0];\n              }\n\n              if(rankSecSplit[rankSecSplit.length - 1] != 'Master' && rankSecSplit[rankSecSplit.length - 1] != 'Grandmaster' && rankSecSplit[rankSecSplit.length - 1] != 'Challenger'){\n                finRank = rankSecSplit[rankSecSplit.length - 2]+\" \"+rankSecSplit[rankSecSplit.length - 1];\n              }else{\n                finRank = rankSecSplit[rankSecSplit.length - 1];\n              }\n              let curRankInfo =  $('#curOrderRank').text();\n              let curRank = curRankInfo.substring(curRankInfo.search(':')+1);\n              this.newOrder.order_type = type[0]+' - '+type[1]+' - '+ curRank + ' '+  $(\"input[name='order_lp']:checked\").val() +' LP to '+finRank+'.';\n            }else{\n              //net win or placement\n              let curRankInfo =  $('#curOrderRank').text();\n              let curRank = curRankInfo.substring(curRankInfo.search(':')+1);\n              if(oObj.order_type.includes('Net')){\n                this.newOrder.order_type = type[0]+' - '+type[1]+' - '+ this.new_gameNum+' - '+curRank+\" Net Wins.\";\n              }else{\n                this.newOrder.order_type = type[0]+' - '+type[1]+' - '+ this.new_gameNum+' - '+curRank+\" Placement Games.\";\n              }\n            }\n            let that = this;\n\n            //format for client order arr\n            let cOrder = {order_id:'', order_type:'', order_price:'', order_message:null, order_status:'unclaimed', payout_status:'in-progress', client_id: '', booster_id:null, created_at:null, updated_at:null};\n\n            cOrder.order_id = this.newOrder.order_id;\n            cOrder.order_type = this.newOrder.order_type;\n            cOrder.order_price = this.newOrder.order_price;\n            cOrder.order_message = this.newOrder.order_message.message;\n            cOrder.payout_status = 'completed';\n\n            cOrder.client_id = oObj.client_id;\n           //console.log(cOrder);\n\n            let inputObj = [cOrder, this.newOrder];\n\n            axios.put('https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/orderRe', inputObj).then(()=>{\n              swal.fire(\n                'Created!',\n                'Your reassignment has been sent out to boosters.',\n                'success'\n              );\n\n            });\n            oObj.order_status = 'reassign';\n            axios.put(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/orders/\"+oObj.order_id, oObj).then(()=>{\n\n            });\n\n          },\n          checkRequested(hooman){\n            let result = false;\n            if(hooman.current_orders_arr){\n              for(let i=0; i<hooman.current_orders_arr.length; i++){\n                if(hooman.current_orders_arr[i].payout_status === 'requested'){\n                  result = true;\n                  break;\n                }\n              }\n              return result;\n            }else{\n              return false;\n            }\n          },\n          markReassigned(order, person){\n            order.order_status = 'reassigned';\n            axios.put(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/reassigned/\"+order.order_id, order).then(()=>{\n              toast.fire({\n                icon: 'success',\n                title: 'Order Marked as Reassigned!'\n              })\n            });\n          },\n          markFinished(order, person){\n\n\n            axios.put('https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/finished/'+order.order_id).then((data)=>{\n              toast.fire({\n                icon: 'success',\n                title: 'Order Marked as Completed!'\n              })\n            }).catch(()=>{\n              toast.fire({\n                icon: 'error',\n                title: 'Something went wrong'\n              })\n            });\n            /*order.order_status = 'completed';\n\n            let index = person.ongoing_orders_arr.indexOf(order);\n            person.ongoing_orders_arr.splice(index, 1);\n\n            person.current_orders_arr.push(order);\n\n            person.ongoing_orders -= 1;\n            person.completed_orders += 1;\n            let adjustedPrice = (order.order_price*0.96)-0.3;\n            let bCut = Math.floor(adjustedPrice*0.7);\n            person.payout += bCut;\n            axios.put(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/orders/\"+order.order_id, order).then(()=>{\n              toast.fire({\n                icon: 'success',\n                title: 'Order Marked as Completed'\n              })\n            }).catch(()=>{\n              toast.fire({\n                icon: 'error',\n                title: 'Something went wrong'\n              })\n            });\n\n            axios.put(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/user/\"+person.id, person).then(()=>{\n             //console.log(\"User Update Success\");\n            }).catch(()=>{\n             //console.log(\"User Update Failed\");\n\n            });\n            */\n          },\n          loadOrders(){\n            if(this.$gate.isAdmin){\n\n\n            axios.get(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/orders\").then((data)=>{\n              this.orders=data;\n\n            });\n\n            }\n          },\n          checkDropReq(user){\n            for(let i=0; i<user.ongoing_orders_arr.length; i++){\n            //console.log(user.ongoing_orders_arr[i].order_status+\" \"+user.name);\n              if(user.ongoing_orders_arr[i].order_status == 'request_drop'){\n                $('#alert'+user.ongoing_orders_arr[i].order_id).remove();\n                $('#dropAlerts').append(\n                \"<div id='alert\"+user.ongoing_orders_arr[i].order_id+\"' class='alert alert-warning alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-exclamation-triangle'></i> Drop Request!</h5>Drop request from Order # \"+ user.ongoing_orders_arr[i].order_id +\" .</div>\");\n\n              }\n            }\n          },\n          checkDoneReq(user){\n            for(let i=0; i<user.ongoing_orders_arr.length; i++){\n            //console.log(user.ongoing_orders_arr[i].order_status+\" \"+user.name);\n              if(user.ongoing_orders_arr[i].order_status == 'verify'){\n             //console.log('alnsfklbadslg')\n                $('#done'+user.ongoing_orders_arr[i].order_id).remove();\n                $('#doneAlerts').append(\n                \"<div id='done\"+user.ongoing_orders_arr[i].order_id+\"' class='alert alert-success alert-dismissible container-fluid'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>×</button><h5><i class='icon fas fa-exclamation-triangle'></i> Completion Request!</h5>Completion request from Order # \"+ user.ongoing_orders_arr[i].order_id +\" .</div>\");\n\n              }\n            }\n          },\n          payoutAll(person){\n          //console.log(process);\n          //console.log(process.env);\n          //console.log(process.env.MIX_PAYPAL_AUTHORIZATION);\n            axios.get('https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/ppGet').then((data)=>{\n              console.log(data);\n\n            if(person.payout > 0){\n              const config = {\n                  method: 'post',\n                  url: 'https://api.paypal.com/v1/payments/payouts',\n                  headers: {'Content-Type': 'application/json', 'Authorization': 'Bearer '+data},\n                  data:{\n                    'sender_batch_header': {\n                      'sender_batch_id': Date.now(),\n                      'recipient_type': 'EMAIL',\n                      'email_subject': 'You have money!',\n                      'email_message': 'You have received a payout from BMS Boosting. Good job on your orders!',\n                    },\n                    'items':[\n                      {\n                        'amount':{\n                          'value': (person.payout - (person.payout * 0.02)).toFixed(2),\n                          'currency': 'USD'\n                        },\n                        'recipient_wallet': 'PAYPAL',\n                        'receiver': person.email,\n                      }\n                    ]\n                  }\n\n              };\n\n              axios(config).then((data)=>{\n                let orderArr = this.orders.data.data;\n                let userOrderArr = [];\n\n                axios.put('https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/payouts/'+person.id).then((data)=>{\n                  toast.fire({\n                    icon: 'success',\n                    title: 'User Payout Complete'\n                  })\n                });\n\n                //person.payout = 0;\n                /*for(let i=0; i<person.current_orders_arr.length; i++){\n                  if(person.current_orders_arr[i].payout_status !== 'completed'){\n                    person.current_orders_arr[i].payout_status = 'completed';\n                  }\n                }*/\n                //axios.put('https://bms-dash.herokuapp.com/api/user/'+person.id, person);\n\n\n              });\n            }else{\n              swal.fire(\n                'Payout Amount Error!',\n                'Your payout to ' + person.email + \" has not been executed, they have an insufficient balance\",\n                'error'\n              )\n            }\n            });\n          },\n          adminWithdraw(){\n            axios.get(\"https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/me\").then((data)=>{\n              this.userPP.fill(data.data);\n              this.userPP.payout = 0;\n              axios.put('api/me', this.userPP).then((data)=>{\n                window.location.reload();\n              })\n            });\n          },\n          getResults(page = 1) {\n          \t\t\taxios.get('api/orders?page=' + page)\n          \t\t\t\t.then(response => {\n          \t\t\t\t\tthis.orders = response.data;\n          \t\t\t\t});\n          \t\t},\n        },\n        created(){\n          if(this.$gate.isAdmin()){\n            this.loadUsers();\n            this.getUser();\n            this.loadOrders();\n\n          }\n\n        }\n    }\n</script>\n<style>\n</style>\n"]}]}