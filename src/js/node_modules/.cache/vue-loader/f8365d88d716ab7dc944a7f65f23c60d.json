{"remainingRequest":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/charts/UserChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/charts/UserChart.vue","mtime":1613347835579},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IExpbmUsIEJhciB9IGZyb20gJ3Z1ZS1jaGFydGpzJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwoKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKXsKICAgICAgcmV0dXJuewogICAgICAgIHVzZXJzOnt9LAogICAgICB9CiAgICB9LAogICAgZXh0ZW5kcyA6IExpbmUsCgogICAgICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCl7CgogICAgICAgICAgICBsZXQgRGF0ZXMgPSBuZXcgQXJyYXkoKTsKICAgICAgICAgICAgbGV0IFVzZXJzID0gbmV3IEFycmF5KCk7CiAgICAgICAgICAgIGxldCBOdW1Vc2VycyA9IG5ldyBBcnJheSgpOwogICAgICAgICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL3VzZXInKS50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgaWYoZGF0YSl7CiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxkYXRhLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgICAgaWYoRGF0ZXMuaW5kZXhPZih0aGlzLm15RGF0ZShkYXRhW2ldLmNyZWF0ZWRfYXQpKT09LTEpewogICAgICAgICAgICAgICAgICAgIERhdGVzLnB1c2godGhpcy5teURhdGUoZGF0YVtpXS5jcmVhdGVkX2F0KSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgVXNlcnMucHVzaChkYXRhW2ldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8RGF0ZXMubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgICAgIGxldCBjb3VudGVyID0gMDsKICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGo9MDsgajxVc2Vycy5sZW5ndGg7IGorKyl7CiAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLm15RGF0ZShVc2Vyc1tqXS5jcmVhdGVkX2F0KT09RGF0ZXNbaV0pewogICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyKz0xOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBOdW1Vc2Vycy5wdXNoKGNvdW50ZXIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRGF0ZXMucmV2ZXJzZSgpOwogICAgICAgICAgICAgICAgTnVtVXNlcnMucmV2ZXJzZSgpOwogICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDaGFydCh7CiAgICAgICAgICAgICAgICBsYWJlbHM6IERhdGVzLAogICAgICAgICAgICAgICAgZGF0YXNldHM6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbGFiZWw6ICdOdW1iZXIgb2YgVXNlcnMnLAogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICIjM2Y1MWI1IiwKICAgICAgICAgICAgICAgICAgZGF0YTogTnVtVXNlcnMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sIHtyZXNwb25zaXZlOiB0cnVlLCBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZX0pCgoKCgogICAgICAgICAgICB9KQoKCiAgICAgICAgfSwKICAgICAgICBtZXRob2RzOnsKICAgICAgICAgIG15RGF0ZShjcmVhdGVkKXsKICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KGNyZWF0ZWQpLmZvcm1hdCgnTU1NTSBEbyBZWVlZJyk7CiAgICAgICAgICB9LAogICAgICAgICAgbG9hZFVzZXJzKCl7CiAgICAgICAgICAgIGlmKHRoaXMuJGdhdGUuaXNBZG1pbil7CgoKICAgICAgICAgICAgYXhpb3MuZ2V0KCJhcGkvdXNlciIpLnRoZW4oKGRhdGEpPT4odGhpcy51c2Vycz1kYXRhLmRhdGEpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICB9CiAgICB9Cgo="},{"version":3,"sources":["UserChart.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA","file":"UserChart.vue","sourceRoot":"components/charts","sourcesContent":["<script>\nimport { Line, Bar } from 'vue-chartjs';\nimport moment from 'moment';\n\n    export default {\n    data(){\n      return{\n        users:{},\n      }\n    },\n    extends : Line,\n\n        mounted: function(){\n\n            let Dates = new Array();\n            let Users = new Array();\n            let NumUsers = new Array();\n            axios.get('https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/user').then((response)=>{\n              let data = response.data.data;\n              //console.log(response.data.data);\n              if(data){\n                for(let i=0; i<data.length; i++){\n                  if(Dates.indexOf(this.myDate(data[i].created_at))==-1){\n                    Dates.push(this.myDate(data[i].created_at));\n                  }\n                  Users.push(data[i]);\n                }\n                  for(let i=0; i<Dates.length; i++){\n                    let counter = 0;\n                    for(let j=0; j<Users.length; j++){\n                      if(this.myDate(Users[j].created_at)==Dates[i]){\n                        counter+=1;\n                      }\n                    }\n                    NumUsers.push(counter);\n                  }\n                }\n                else{\n                }\n                Dates.reverse();\n                NumUsers.reverse();\n                this.renderChart({\n                labels: Dates,\n                datasets: [\n                {\n                  label: 'Number of Users',\n                  backgroundColor: \"#3f51b5\",\n                  data: NumUsers\n                }\n                ]\n                }, {responsive: true, maintainAspectRatio: false})\n\n\n\n\n            })\n\n\n        },\n        methods:{\n          myDate(created){\n              return moment(created).format('MMMM Do YYYY');\n          },\n          loadUsers(){\n            if(this.$gate.isAdmin){\n\n\n            axios.get(\"api/user\").then((data)=>(this.users=data.data));\n            }\n          },\n        }\n    }\n\n</script>\n"]}]}