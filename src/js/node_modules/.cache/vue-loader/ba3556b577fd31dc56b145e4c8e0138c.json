{"remainingRequest":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/Orders.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tevb/Documents/BMS/BMSDashboard/resources/js/components/Orders.vue","mtime":1613347835579},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tevb/Documents/BMS/BMSDashboard/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnJlcXVpcmUoJ2hvd2xlcicpOwppbXBvcnQgRm9ybSBmcm9tICd2Zm9ybSc7CmV4cG9ydCBkZWZhdWx0IHsKZGF0YSgpewogcmV0dXJuewoKICAgZWRpdG1vZGU6IHRydWUsCiAgIG9yZGVyczoge30sCiAgIG5ld19vcmRlcjogbmV3IEZvcm0oewogICAgIG9yZGVyX2lkOiAnJywKICAgICBvcmRlcl90eXBlOiAnJywKICAgICBvcmRlcl9wcmljZTogJycsCiAgICAgb3JkZXJfbWVzc2FnZTogJycsCiAgICAgY2xpZW50X2lkOiAnJywKCgogICB9KSwKICAgZm9ybTogbmV3IEZvcm0oewogICAgIG9yZGVyX2lkOiAnJywKICAgICBvcmRlcl90eXBlOiAnJywKICAgICBvcmRlcl9wcmljZTogJycsCiAgICAgb3JkZXJfbWVzc2FnZTogJycsCiAgICAgY2xpZW50X2lkOiAnJywKICAgICBib29zdGVyX2lkOiAnJywKICAgICBjcmVhdGVkX2F0OiAnJywKCiAgIH0pLAogICB1c2VyOiBuZXcgRm9ybSh7CiAgICAgaWQ6ICcnLAogICAgIG5hbWU6ICcnLAogICAgIGVtYWlsOiAnJywKICAgICBwYXNzd29yZDogJycsCiAgICAgdHlwZTogJycsCiAgICAgYmlvOiAnJywKICAgICBwaG90bzogJycsCiAgICAgcGF5b3V0OicnLAogICAgIG9uZ29pbmdfb3JkZXJzOiAnJywKICAgICBjb21wbGV0ZWRfb3JkZXJzOiAnJywKICAgICBvbmdvaW5nX29yZGVyc19hcnI6ICcnLAogICAgIGN1cnJlbnRfb3JkZXJzX2FycjogJycsCiAgIH0pLAogICB9CiB9LAogICAgbWV0aG9kczogewoKCgogICAgZmlsdGVyQ2xhaW1lZChpdGVtcyl7CgogICAgICBpZihpdGVtcyl7CiAgICAgICAgbGV0IGl0ZW1zMiA9IGl0ZW1zLmRhdGE7CiAgICAgICAgbGV0IHJlc3VsdD0gW107CiAgICAgICAgaWYoaXRlbXMyKXsKICAgICAgICAgIGZvcihsZXQgaT0wOyBpPGl0ZW1zMi5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIGlmKGl0ZW1zMltpXS5vcmRlcl9zdGF0dXM9PSd1bmNsYWltZWQnKXsKICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtczJbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGxldCByZXN1bHQyID0gcmVzdWx0LnJldmVyc2UoKTsKICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXN1bHQyKTsKICAgICAgICByZXR1cm4gcmVzdWx0MjsKICAgICAgfQoKICAgIH0sCiAgICBib29zdGVyQ3V0KHRvdGFsUHJpY2UpewogICAgICBsZXQgYWRqdXN0ZWRQcmljZSA9ICh0b3RhbFByaWNlKjAuOTYpLTAuMzsKICAgICAgbGV0IGJDdXQgPSBNYXRoLmZsb29yKGFkanVzdGVkUHJpY2UqMC43KTsKICAgICAgcmV0dXJuIGJDdXQ7CiAgICB9LAogICAgY29tcGFueUN1dCh0b3RhbFByaWNlKXsKICAgICAgbGV0IGFkanVzdGVkUHJpY2UgPSAodG90YWxQcmljZSowLjk2KS0wLjM7CiAgICAgIGxldCBiQ3V0ID0gTWF0aC5mbG9vcihhZGp1c3RlZFByaWNlKjAuNyk7CgogICAgICBsZXQgY0N1dCA9IGFkanVzdGVkUHJpY2UgLSBiQ3V0OwogICAgICByZXR1cm4gY0N1dC50b0ZpeGVkKDIpOwogICAgfSwKICAgIG9yZGVyRXh0cmFGb3JtYXQoaW5wdXQpewoKICAgICAgbGV0IHRlbXBPYmogPSBKU09OLnBhcnNlKGlucHV0KTsKICAgICAgaWYodGVtcE9iail7CiAgICAgIGxldCBhcnIgPSB0ZW1wT2JqLmV4dHJhczsKICAgICAgbGV0IHJlc3VsdCA9ICh0ZW1wT2JqLnJlZ2lvbikudG9VcHBlckNhc2UoKSArICIgfCAiOwogICAgICBmb3IobGV0IGk9MDsgaTxhcnIubGVuZ3RoOyBpKyspewogICAgICAgIHJlc3VsdCArPSBhcnJbaV07CiAgICAgICAgaWYoaSAhPSBhcnIubGVuZ3RoLTEpewogICAgICAgICAgcmVzdWx0ICs9ICIgfCAiOwogICAgICAgIH0KCiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDt9CiAgICB9LAogICAgcmVmcmVzaFBhZ2UoKXsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSwKICAgIGNsYWltT3JkZXIob3JkZXIpewogICAgICBheGlvcy5nZXQoImFwaS9tZSIpLnRoZW4oKGRhdGEpPT57CiAgICAgICAgdGhpcy51c2VyLmZpbGwoZGF0YS5kYXRhKTsKICAgICAgICBpZihkYXRhLmRhdGEub25nb2luZ19vcmRlcnMgPCAzKXsKICAgICAgICAgIC8vdGhpcy51c2VyLm9uZ29pbmdfb3JkZXJzID0gdGhpcy51c2VyLm9uZ29pbmdfb3JkZXJzICsgMTsKCiAgICAgICAgICAvL2xldCBhcnIxID0gdGhpcy51c2VyLm9uZ29pbmdfb3JkZXJzX2FycjsKICAgICAgICAgIC8vaWYoIXRoaXMudXNlci5vbmdvaW5nX29yZGVyc19hcnIpewogICAgICAgICAgLy8gIGFycjEgPSBbXTsKICAgICAgICAgIC8vfQogICAgICAgICAgLy90aGlzLnVzZXIub25nb2luZ19vcmRlcnNfYXJyID0gYXJyMTsKCiAgICAgICAgICB0aGlzLmZvcm0uYm9vc3Rlcl9pZCA9IGRhdGEuZGF0YS5pZDsKICAgICAgICAgIG9yZGVyLmJvb3N0ZXJfaWQgPSBkYXRhLmRhdGEuaWQ7CiAgICAgICAgICB0aGlzLmZvcm0ub3JkZXJfc3RhdHVzID0gJ2NsYWltZWQnOwogICAgICAgICAgLy9vcmRlci5vcmRlcl9zdGF0dXMgPSAnY2xhaW1lZCc7CiAgICAgICAgICAvLy8vY29uc29sZS5sb2codGhpcy51c2VyLm9uZ29pbmdfb3JkZXJzKTsKICAgICAgICAgIC8vLy9jb25zb2xlLmxvZyhvcmRlcik7CiAgICAgICAgICAvL2FycjEucHVzaChvcmRlcik7CgogICAgICAgICAgdGhpcy5mb3JtLnB1dCgnYXBpL29yZGVyLycrb3JkZXIub3JkZXJfaWQpCiAgICAgICAgICAudGhlbigoZGF0YSk9PnsKICAgICAgICAgICAgLy9zdWNjZXNzZnVsCiAgICAgICAgICAgIGlmKGRhdGEuZGF0YSAhPSAnZmFsc2UnKXsKICAgICAgICAgICAgJCgnI2FkZE5ldycpLm1vZGFsKCdoaWRlJyk7CiAgICAgICAgICAgIHN3YWwuZmlyZSgKICAgICAgICAgICAgICAnQ2xhaW1lZCEnLAogICAgICAgICAgICAgICdZb3UgaGF2ZSBjbGFpbWVkIHRoaXMgb3JkZXIuJywKICAgICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICAgKS50aGVuKChyZXN1bHQpPT57CiAgICAgICAgICAgICAgaWYocmVzdWx0LnZhbHVlKXsKICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFBhZ2UoKTsKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmluaXNoKCk7CiAgICAgICAgICAgIEZpcmUuJGVtaXQoJ0FmdGVyQ3JlYXRlJyk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIHN3YWwuZmlyZSgKICAgICAgICAgICAgICAgICdFcnJvcicsCiAgICAgICAgICAgICAgICAnVGhpcyBvcmRlciBoYXMgYWxyZWFkeSBiZWVuIGNsYWltZWQnLAogICAgICAgICAgICAgICAgJ2Vycm9yJwogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQoKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKCk9PnsKICAgICAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmFpbCgpOwogICAgICAgICAgfSk7CgoKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICQoJyNhZGROZXcnKS5tb2RhbCgnaGlkZScpOwogICAgICAgICAgICBzd2FsLmZpcmUoCiAgICAgICAgICAgICAgJ0NsYWltIEVycm9yJywKICAgICAgICAgICAgICAnWW91IGhhdmUgdG9vIG1hbnkgb25nb2luZyBvcmRlcnMuJywKICAgICAgICAgICAgICAnZXJyb3InCiAgICAgICAgICAgICkKICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3I9PnsKICAgICAgICAgIC8vJCgnI2FkZE5ldycpLm1vZGFsKCdoaWRlJyk7CiAgICAgICAgICAvL3N3YWwuZmlyZSgKICAgICAgICAgICAgLy8nU2VydmVyIEVycm9yJywKICAgICAgICAgICAgLy8nVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIuJywKICAgICAgICAgICAgLy8nZXJyb3InCiAgICAgICAgICAvLyk7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIC8vdGhpcy4kUHJvZ3Jlc3MuZmFpbCgpOwogICAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJJRCgpewoKCiAgICB9LAogICAgbmV3TW9kYWwoKXsKICAgICAgdGhpcy5lZGl0bW9kZSA9IGZhbHNlOwogICAgICB0aGlzLmZvcm0ucmVzZXQoKTsKICAgICAgJCgnI2FkZE5ldycpLm1vZGFsKCdzaG93JykKICAgIH0sCiAgICBnZXRSZXN1bHRzKHBhZ2UgPSAxKSB7CiAgICAJCQlheGlvcy5nZXQoJ2FwaS9vcmRlcnM/cGFnZT0nICsgcGFnZSkKICAgIAkJCQkudGhlbihyZXNwb25zZSA9PiB7CiAgICAJCQkJCXRoaXMub3JkZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgIAkJCQl9KTsKICAgIAkJfSwKCiAgICBsb2FkT3JkZXJzKCl7CiAgICAgIGlmKHRoaXMuJGdhdGUuaXNBZG1pbil7CgoKICAgICAgYXhpb3MuZ2V0KCJhcGkvb3JkZXJzRiIpLnRoZW4oKGRhdGEpPT57CiAgICAgICAgdGhpcy5vcmRlcnM9ZGF0YTsKICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpOwogICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZU9yZGVyKCl7CiAgICB0aGlzLm5ld19vcmRlci5vcmRlcl9pZCA9IERhdGUubm93KCk7CiAgICAvL2NvbnNvbGUubG9nKHRoaXMubmV3X29yZGVyLm9yZGVyX2lkKTsKICAgIC8vY29uc29sZS5sb2codGhpcy5uZXdfb3JkZXIub3JkZXJfcHJpY2UpOwogICAgICBheGlvcy5wdXQoJ2h0dHBzOi8vYm1zLWJhY2tlbmQtc2V0dXAtcGF5b3UtcnM4cWt5Lmhlcm9rdWFwcC5jb20vYXBpL29yZGVycycsIHRoaXMubmV3X29yZGVyKS50aGVuKCgpPT57CiAgICAgICAgc3dhbC5maXJlKAogICAgICAgICAgJ0NyZWF0ZWQhJywKICAgICAgICAgICdZb3VyIG9yZGVyIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBjcmVhdGVkLicsCiAgICAgICAgICAnc3VjY2VzcycKICAgICAgICApCiAgICAgIH0pOwogICAgfSwKICAgICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgIHdpbmRvdy5FY2hvLnByaXZhdGUoJ3B1cmNoYXNlJykKICAgICAgICAgIC5saXN0ZW4oJ25ldy1wdXJjaGFzZScsIChlKSA9PiB7CiAgICAgICAgICB0aGF0LmxvYWRPcmRlcnMoKTsKICAgICAgICAgIHZhciBzb3VuZCA9IG5ldyBIb3dsKHsKICAgICAgICAgICAgc3JjOiAnaHR0cHM6Ly9ibXMtYmFja2VuZC1zZXR1cC1wYXlvdS1yczhxa3kuaGVyb2t1YXBwLmNvbS9hc3NldHMvc291bmRzL2NsYWltMi5tcDMnLAogICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSwKICAgICAgICAgICAgbG9vcDogZmFsc2UsCgogICAgICAgICAgfSk7CiAgICAgICAgICBzb3VuZC5wbGF5KCk7CgoKCiAgICAgICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgIHRoaXMubG9hZE9yZGVycygpOwoKICAgICAgRmlyZS4kb24oJ0FmdGVyQ3JlYXRlJywgKCk9PnsKICAgICAgICB0aGlzLmxvYWRPcmRlcnMoKTsKICAgICAgfSk7CgogICAgfQp9Cg=="},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"Orders.vue","sourceRoot":"components","sourcesContent":["<template>\n    <div class=\"container\">\n    <div class=\"row mt-5\" v-if=\"$gate.isWorkerOrAdmin()\">\n\n\n      <div class=\"col-md-12\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">Orders</h3>\n            <div class=\"card-tools\">\n            <button class=\"btn btn-success\" @click=\"newModal\" v-if=\"$gate.isAdmin()\">Add New\n            <i class=\"fas fa-cart-plus\"></i>\n            </button>\n          </div>\n          </div>\n          <!-- /.card-header -->\n          <div class=\"card-body table-responsive p-0\">\n            <table class=\"table table-hover\">\n              <thead>\n                <tr>\n                  <th>Order ID</th>\n                  <th>Order Type</th>\n                  <th>Order Price</th>\n                  <div v-if=\"$gate.isAdmin()\">\n                  <th>Company Cut</th>\n                  </div>\n                  <th>Order Message</th>\n                  <th>Order Date</th>\n\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"order in filterClaimed(orders)\" :key=\"order.order_id\">\n\n                  <td>{{order.order_id}}</td>\n                  <td>{{order.order_type}}</td>\n                  <td>{{boosterCut(order.order_price)}}</td>\n                  <div v-if=\"$gate.isAdmin()\">\n                  <td>{{companyCut(order.order_price)}}</td>\n                  </div>\n                  <td>{{orderExtraFormat(order.order_message)}}</td>\n                  <td>{{order.created_at|myDate}}</td>\n\n                  <td>\n\n                    <button class=\"btn btn-block btn-primary\" @click=\"claimOrder(order)\">Claim</button>\n\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <!-- /.card-body -->\n          <div class=\"card-footer\">\n            <pagination :data=\"orders\" :limit=-1 @pagination-change-page=\"getResults\"></pagination>\n          </div>\n        </div>\n        <!-- /.card -->\n      </div>\n    </div>\n    <div v-if=\"!$gate.isWorkerOrAdmin()\">\n      <not-found></not-found>\n\n    </div>\n    <!-- Modal -->\n    <div class=\"modal fade\" id=\"addNew\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"addNewLabel\">Add New</h5>\n\n\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <form @submit.prevent=\"createOrder()\">\n          <div class=\"modal-body\">\n\n          <div class=\"form-group\">\n                <input v-model=\"new_order.order_type\" type=\"text\" name=\"order_type\"\n                  class=\"form-control\" :class=\"{ 'is-invalid': new_order.errors.has('order_type') }\" placeholder=\"Order Type\">\n                <has-error :form=\"new_order\" field=\"order_type\"></has-error>\n          </div>\n\n          <div class=\"form-group\">\n                <input v-model=\"new_order.order_price\" type=\"text\" name=\"order_price\"\n                  class=\"form-control\" :class=\"{ 'is-invalid': new_order.errors.has('order_price') }\" placeholder=\"Order Price\">\n                <has-error :form=\"new_order\" field=\"order_price\"></has-error>\n          </div>\n\n          <div class=\"form-group\">\n                <input v-model=\"new_order.client_id\" type=\"text\" name=\"client_id\"\n                  class=\"form-control\" :class=\"{ 'is-invalid': new_order.errors.has('client_id') }\" placeholder=\"Client ID\">\n                <has-error :form=\"new_order\" field=\"client_id\"></has-error>\n          </div>\n\n          <div class=\"form-group\">\n                <input v-model=\"new_order.order_id\" type=\"text\" name=\"order_id\"\n                  class=\"form-control\" :class=\"{ 'is-invalid': new_order.errors.has('order_id') }\" placeholder=\"Order ID\">\n                <has-error :form=\"new_order\" field=\"order_id\"></has-error>\n          </div>\n\n\n          <div class=\"form-group\">\n                <label for=\"order_message\">{\"type\":\"\",\"username\":\"\",\"password\":\"\",\"email\":\"\",\"summoner_name\":\"\",\"discord\":\"\",<br>\"message\":\"\",\"lpg\":\"19\",\"starting_lp\":\"(0-20)\",\"extras\":[]}</label>\n                <textarea v-model=\"new_order.order_message\" type=\"text\" name=\"order_message\" id=\"order_message\"  placeholder=\"Order Message\"\n                  class=\"form-control\" :class=\"{ 'is-invalid': new_order.errors.has('order_message') }\"></textarea>\n                <has-error :form=\"new_order\" field=\"order_message\"></has-error>\n          </div>\n\n\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n            <button type=\"submit\" class=\"btn btn-primary\">Create</button>\n\n          </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    </div>\n</template>\n\n<script>\n    require('howler');\n    import Form from 'vform';\n    export default {\n    data(){\n     return{\n\n       editmode: true,\n       orders: {},\n       new_order: new Form({\n         order_id: '',\n         order_type: '',\n         order_price: '',\n         order_message: '',\n         client_id: '',\n\n\n       }),\n       form: new Form({\n         order_id: '',\n         order_type: '',\n         order_price: '',\n         order_message: '',\n         client_id: '',\n         booster_id: '',\n         created_at: '',\n\n       }),\n       user: new Form({\n         id: '',\n         name: '',\n         email: '',\n         password: '',\n         type: '',\n         bio: '',\n         photo: '',\n         payout:'',\n         ongoing_orders: '',\n         completed_orders: '',\n         ongoing_orders_arr: '',\n         current_orders_arr: '',\n       }),\n       }\n     },\n        methods: {\n\n\n\n        filterClaimed(items){\n\n          if(items){\n            let items2 = items.data;\n            let result= [];\n            if(items2){\n              for(let i=0; i<items2.length; i++){\n                if(items2[i].order_status=='unclaimed'){\n                  result.push(items2[i]);\n                }\n              }\n            }\n            let result2 = result.reverse();\n            //console.log(result);\n            //console.log(result2);\n            return result2;\n          }\n\n        },\n        boosterCut(totalPrice){\n          let adjustedPrice = (totalPrice*0.96)-0.3;\n          let bCut = Math.floor(adjustedPrice*0.7);\n          return bCut;\n        },\n        companyCut(totalPrice){\n          let adjustedPrice = (totalPrice*0.96)-0.3;\n          let bCut = Math.floor(adjustedPrice*0.7);\n\n          let cCut = adjustedPrice - bCut;\n          return cCut.toFixed(2);\n        },\n        orderExtraFormat(input){\n\n          let tempObj = JSON.parse(input);\n          if(tempObj){\n          let arr = tempObj.extras;\n          let result = (tempObj.region).toUpperCase() + \" | \";\n          for(let i=0; i<arr.length; i++){\n            result += arr[i];\n            if(i != arr.length-1){\n              result += \" | \";\n            }\n\n          }\n          return result;}\n        },\n        refreshPage(){\n          window.location.reload();\n        },\n        claimOrder(order){\n          axios.get(\"api/me\").then((data)=>{\n            this.user.fill(data.data);\n            if(data.data.ongoing_orders < 3){\n              //this.user.ongoing_orders = this.user.ongoing_orders + 1;\n\n              //let arr1 = this.user.ongoing_orders_arr;\n              //if(!this.user.ongoing_orders_arr){\n              //  arr1 = [];\n              //}\n              //this.user.ongoing_orders_arr = arr1;\n\n              this.form.booster_id = data.data.id;\n              order.booster_id = data.data.id;\n              this.form.order_status = 'claimed';\n              //order.order_status = 'claimed';\n              ////console.log(this.user.ongoing_orders);\n              ////console.log(order);\n              //arr1.push(order);\n\n              this.form.put('api/order/'+order.order_id)\n              .then((data)=>{\n                //successful\n                if(data.data != 'false'){\n                $('#addNew').modal('hide');\n                swal.fire(\n                  'Claimed!',\n                  'You have claimed this order.',\n                  'success'\n                ).then((result)=>{\n                  if(result.value){\n                    this.refreshPage();\n\n                  }\n                });\n                this.$Progress.finish();\n                Fire.$emit('AfterCreate');\n                }else{\n                  swal.fire(\n                    'Error',\n                    'This order has already been claimed',\n                    'error'\n                  )\n                }\n\n              })\n              .catch(()=>{\n                this.$Progress.fail();\n              });\n\n\n            }\n            else{\n              $('#addNew').modal('hide');\n                swal.fire(\n                  'Claim Error',\n                  'You have too many ongoing orders.',\n                  'error'\n                )\n            }\n            })\n            .catch(error=>{\n              //$('#addNew').modal('hide');\n              //swal.fire(\n                //'Server Error',\n                //'There was a problem with the server.',\n                //'error'\n              //);\n              //console.log(error);\n              //this.$Progress.fail();\n            });\n        },\n        getUserID(){\n\n\n        },\n        newModal(){\n          this.editmode = false;\n          this.form.reset();\n          $('#addNew').modal('show')\n        },\n        getResults(page = 1) {\n        \t\t\taxios.get('api/orders?page=' + page)\n        \t\t\t\t.then(response => {\n        \t\t\t\t\tthis.orders = response.data;\n        \t\t\t\t});\n        \t\t},\n\n        loadOrders(){\n          if(this.$gate.isAdmin){\n\n\n          axios.get(\"api/ordersF\").then((data)=>{\n            this.orders=data;\n            //console.log(data);\n          });\n          }\n        },\n        createOrder(){\n        this.new_order.order_id = Date.now();\n        //console.log(this.new_order.order_id);\n        //console.log(this.new_order.order_price);\n          axios.put('https://bms-backend-setup-payou-rs8qky.herokuapp.com/api/orders', this.new_order).then(()=>{\n            swal.fire(\n              'Created!',\n              'Your order has been successfully created.',\n              'success'\n            )\n          });\n        },\n          },\n        mounted() {\n            let that = this;\n            window.Echo.private('purchase')\n              .listen('new-purchase', (e) => {\n              that.loadOrders();\n              var sound = new Howl({\n                src: 'https://bms-backend-setup-payou-rs8qky.herokuapp.com/assets/sounds/claim2.mp3',\n                autoplay: true,\n                loop: false,\n\n              });\n              sound.play();\n\n\n\n              });\n        },\n        created(){\n          this.loadOrders();\n\n          Fire.$on('AfterCreate', ()=>{\n            this.loadOrders();\n          });\n\n        }\n    }\n</script>\n"]}]}